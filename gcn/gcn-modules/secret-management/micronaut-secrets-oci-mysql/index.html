<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:image" content="/gcn/resources/img/graalvm.png" />
  <meta name="twitter:widgets:border-color" content="#55acee">

  <title>
    
      Securely Store Database Connection Details in an Oracle Cloud Infrastructure Vault
    
  </title>
  <meta name="description" content="Graal Cloud Native (GCN) is a build of a curated set of Micronaut framework modules and their required libraries for building portable cloud-native microserv..."/>
  <meta name="last_modified" content="2024-01-30 10:40:48 +0000"/>
  <meta name="last_built" content="2024-02-14 09:58:07 +0000"/>
  <link rel="stylesheet" href="/gcn/assets/main.css">
  <link rel="apple-touch-icon" sizes="180x180" href="/gcn/resources/img/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/gcn/resources/img/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/gcn/resources/img/favicon/favicon-16x16.png">
  <link rel="manifest" href="/resources/img/favicon/site.webmanifest">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <meta name="google-site-verification" content="-vRqwa9WYn6AaQGnl88xvrLw6ac4xoKVkZkhanmlRhU" />
  <link rel="canonical" href="https://www.graal.cloud/gcn/gcn-modules/secret-management/micronaut-secrets-oci-mysql/">

  <!-- jQuery UI Tabs -->
  <link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="/gcn/resources/lib/jquery/jquery-ui.css">
</head>

      <script src="/gcn/resources/lib/jquery/jquery-3.6.1.min.js"></script>
    <script src="/gcn/resources/lib/bootstrap/js/bootstrap.min.js"></script>
    <script src='/gcn/resources/lib/sticky-sidebar/resizeSensor.js'></script>
    <script src='/gcn/resources/lib/sticky-sidebar/sticky-sidebar.min.js'></script>
    <script src="/gcn/resources/lib/highlight/highlight.min.js"></script>
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <!-- Add TRUSTe Consent Script and Analytics -->
    <script async="async" type="text/javascript" src='//consent.trustarc.com/notice?domain=oracle.com&c=teconsent&js=bb&noticeType=bb&text=true&cdn=1&pcookie&gtm=1' crossorigin></script>
    <script src="https://www.oracle.com/assets/truste-oraclelib.js"></script>
    <!-- jQuery UI Tabs -->
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>


  <body class="preload">
    <!-- Start SiteCatalyst code -->
    <script language="JavaScript" src="https://www.oracle.com/us/assets/metrics/ora_otn.js"></script>
    <!-- End SiteCatalyst code -->

    <div  class="wrapper wrapper--nofooter" >

      <header  class="header header--content" 
  role="banner">

  

  

    <nav class="menu">
      <div class="menu__row">
        <div>
          <a href="/gcn/">
            <img class="logo-mobile" src="/gcn/resources/img/gcn-logo-01.svg" alt="Graal Cloud Native logo">
          </a>
        </div>
        <div class="menu__container">
          <ul class="menu__list">
            <li class="menu__item">
              <a href="/gcn/about/" class="menu__link">About</a>
            </li>
            <li class="menu__item">
              <a href="/gcn/get-started/" class="menu__link">Get Started</a>
            </li>
            <li class="menu__item">
              <div class="stack-container">
                <a href="#" class="menu__link stack__header">Docs</a>
                <div class="stack-menu-learn">
                  <div class="stack-row">
                    <div class="stack-column">
                      <div class="stack__item">
                        <img src='/gcn/resources/img/header-navigation/modules.svg'>
                        <a href="/gcn/modules/" class="item-line">Modules</a>
                      </div>
                      <div class="stack__item">
                        <img src='/gcn/resources/img/header-navigation/guides.svg'>
                        <a href="/gcn/guides/" class="item-line">Guides</a>
                      </div>
                      <div class="stack__item">
                        <img src='/gcn/resources/img/header-navigation/labs.svg'>
                        <a href="/gcn/hands-on-labs/" class="item-line">Hands-On Labs</a>
                      </div>
                      <div class="stack__item">
                        <img src='/gcn/resources/img/header-navigation/tools.svg'>
                        <a href="/gcn/vscode-tools/" class="item-line">Tools</a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </li>
            <li class="menu__item">
              <div class="stack-container">
                <a href="#" class="menu__link stack__header">Graal Projects</a>
                <div class="stack-menu">
                  <div class="stack-row">
                    <div class="stack-column">
                      <div class="stack__item">
                        <img src='/gcn/resources/img/header-navigation/graalstack.svg'>
                        <a href="https://graal.cloud/" class="item-line">Graal</a>
                      </div>
                      <div class="stack__item">
                        <img src='/gcn/resources/img/header-navigation/graalvm.svg'>
                        <a href="https://graalvm.org/" class="item-line">GraalVM</a>
                      </div>
                      <div class="stack__item">
                        <img src='/gcn/resources/img/header-navigation/graalos.svg'>
                        <a href="https://graal.cloud/graalos/" class="item-line">GraalOS</a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </li>
            <li class="menu__launch__mobile">
              <a href="/gcn/launcher/" class="btn-launch btn btn-primary" target="blank">Create App</a>
            </li>
          </ul>
        </div>
        <div class="menu__launch">
          <a href="/gcn/launcher/" class="btn-launch btn btn-primary" target="blank">Create App</a>
        </div>
      </div>

      <div role="button" class="menu-btn menu-btn--menu js-show-menu" tabindex="-1" title="sweet hamburger">
        <div class="hamburger">
          <div class="inner"></div>
        </div>
      </div>
      <button aria-label="hamburger mobile menu" class="btn btn-mobile-menu js-show-menu">
        <div class="inner"></div>
      </button>
    </nav>

  
</header>


      <main  class="content"   aria-label="Content">
        <div class="wrapper wrapper-content">
  <article>
  <div class="row d-flex flex-wrap">
    <div class="col-sm-3 docsimpro col-bg">
      <div class="sidebar-wrap">
        <div class="sidebar">
          <div class="menuabout">
            <img id="sidebarClose" src="/gcn/resources/img/arrow_sidebar(close).svg" alt="Expand or collapse sidebar"
              class="btn-color no-display">
            <img id="sidebarOpen" src="/gcn/resources/img/arrow_sidebar.svg" alt="Expand or collapse sidebar">
          </div>
          
<div class="toc-floating">


<div class="toc-bullets">


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    

    
      
        
          <li class="toc-bullets-main">
        
          
          <a href="/gcn/docs/gcn-modules/secret-management/" class="_icon-book">
            Secret Management
          </a>
        </li>

        
        

        
        
          
          <li class="toc-bullets-sub toc-bullets-highlight">
          
            
            <a href="/gcn/gcn-modules/secret-management/micronaut-secrets-oci-mysql/">
              Securely Store Database Connection Details in an Oracle Cloud Infrastructure Vault
            </a>
          </li>

          
            <div>
  <script>
    var scriptElement = document.currentScript;
    var div = $(scriptElement.parentElement);
    $(window).on("load", function () {
      $("#content-wrapper h2").each(function () {
        var li = $("<li></li>", { class: "toc-bullets-sub toc-bullets-sub-3" });
        var a = $("<a></a>", { href: "#" + $(this).attr("id") });
        a.text($(this).text().replace('#', ''));
        li.append(a);
        li.click(function (e) {
          e.preventDefault();
          var target = $(a.attr('href'));
          var scrollTo = target.offset().top - 80; // 80 - indent
          $('html, body').animate({ scrollTop: scrollTo }, 1000);
        });
        div.append(li);
      });
    });
  </script>
</div>
          
        
      
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

<!-- <li class="search additional-search">
  <form class="form-inline sidebar" action="/docs/search" autocomplete="on" method="get">
    <input class="input-search sidebar" type="text" id="search-box" name="query" placeholder="Search">
    <button type="submit sidebar" class="search-button"></button>
  </form>
</li> -->

</div>
  <!-- Search form -->
  <!-- <form class="search-container" action="/docs/search" autocomplete="on" method="get">
   <label for="search-box">Search</label>
    <input type="text" id="search-box" name="query">
    <button type="submit" class="searchbttn"></button>
  </form> -->
</div>

        </div>
      </div>
    </div>

    <div class="col-sm-9 docsmod">
      <div id="content-wrapper" class="docs-content docs-content--with-sidebar">
        <!--
          Include file to warn of Windows/Gradle restriction
        -->
        <h1 id="securely-store-database-connection-details-in-an-oracle-cloud-infrastructure-vault">
        
        
          Securely Store Database Connection Details in an Oracle Cloud Infrastructure Vault
        
        
      </h1>

<p>This guide describes how to create a Java application that stores MySQL database connection details as <strong>secrets</strong> in an Oracle Cloud Infrastructure <strong>vault</strong>.</p>

<p>Instead of storing a database URL, username, or password in plain text or via environment variables, a <strong>secret manager</strong> such as <a href="https://docs.oracle.com/iaas/Content/KeyManagement/Concepts/keyoverview.htm" target="_blank">Oracle Cloud Infrastructure Vault</a> provides a convenient way to securely store and retrieve sensitive data.</p>

<p>This guide describes how to use a Vault to store and retrieve details for a MySQL database connection, and demonstrates how to use <a href="https://micronaut-projects.github.io/micronaut-oracle-cloud/latest/guide/#vault" target="_blank">Micronaut integration with the Oracle Cloud Infrastructure Vault</a>.</p>

<blockquote>
  <p>Note: If this is your first experience of using an Oracle Cloud Infrastructure Vault with Micronaut, please review the <a href="/gcn/gcn-modules/secret-management/micronaut-secrets-oci/">Securely Store Application Secrets in an Oracle Cloud Infrastructure Vault</a> first. 
Unlike that guide, this guide describes how to use the Oracle Cloud Infrastructure <a href="https://docs.cloud.oracle.com/iaas/Content/API/SDKDocs/cliinstall.htm">Command Line Interface</a> (CLI) to set up your tenancy.</p>
</blockquote>
    
      <h3 id="prerequisites">
        
        
          Prerequisites <a href="#prerequisites" class="anchor_heading">#</a>
        
        
      </h3>

<ul>
  <li>JDK 17 or higher. See <a href="/gcn/get-started/setting-up-desktop/">Setting up Your Desktop</a>.</li>
  <li>An Oracle Cloud Infrastructure account. See <a href="/gcn/get-started/setting-up-cloud-accounts/">Setting up Your Cloud Accounts</a>.</li>
  <li>The Oracle Cloud Infrastructure <a href="https://docs.cloud.oracle.com/iaas/Content/API/SDKDocs/cliinstall.htm">CLI</a> installed with <a href="https://docs.oracle.com/iaas/Content/API/SDKDocs/cliinstall.htm#configfile">local access configured</a>.</li>
  <li>An Oracle Cloud Infrastructure <a href="https://docs.oracle.com/iaas/Content/GSG/Concepts/concepts-account.htm#conceptcompartment">compartment</a> with appropriate permission granted to your Oracle Cloud Infrastructure user account to manage <code>secret-family</code>, <code>key-family</code>, and to deploy and manage a database in the compartment.</li>
  <li>A Virtual Cloud Network (VCN) in Oracle Cloud Infrastructure  with a single regional public subnet, which will be used by both Compute and MySQL Database instances.</li>
  <li><a href="https://stedolan.github.io/jq/"><code>jq</code></a>: a lightweight and flexible command-line JSON processor.</li>
  <li>A Docker-API compatible container runtime such as <a href="https://docs.rancherdesktop.io/getting-started/installation/">Rancher Desktop</a> or <a href="https://www.docker.io/gettingstarted/">Docker</a> installed to build a deployable GraalVM Native Executable.</li>
  <li>The GCN CLI. See <a href="/gcn/get-started/setting-up-desktop/">Setting up Your Desktop</a>. (Optional.)</li>
</ul>

<p>Follow the steps below to create the application from scratch.
However, you can also download the completed example.</p>

<div id="tabs-doc1">
    <ul>
        <li class="tabs-gradle"><a name="gradle" href="#gradle">Gradle</a></li>
        <li class="tabs-maven"><a name="maven" href="#maven">Maven</a></li>
    </ul>
    <div id="gradle">
        <p><a href="/gcn/docs/gcn-modules/secret-management/archives/oci-secrets-demo-java-gradle.zip">Gradle Oracle Cloud Infrastructure Vault Example <img class="download-img-guides" src="/gcn/resources/img/gcn_modules/download-archive.png" alt="Download completed example" />
        </a>
        </p>
    </div>
    <div id="maven">
        <p><a href="/gcn/docs/gcn-modules/secret-management/archives/oci-secrets-demo-java-maven.zip">Maven Oracle Cloud Infrastructure Vault Example <img class="download-img-guides" src="/gcn/resources/img/gcn_modules/download-archive.png" alt="Download completed example" /></a>
        </p>
    </div>
</div>
    
      <h4 id="a-note-regarding-your-development-environment">
        
        
          A note regarding your development environment
        
        
      </h4>

<p>Consider using Visual Studio Code that provides native support for developing applications with the <a href="/gcn/vscode-tools/using-gcn-vscode-tools/">Graal Cloud Native Tools extension</a>.</p>

<blockquote>
  <p>Note: If you use IntelliJ IDEA, <a href="/gcn/resources/img/annotationprocessorsintellij.png">enable annotation processing</a>.</p>
</blockquote>

<blockquote>
  <p>Windows platform: The GCN guides are compatible with Gradle only. Maven support is coming soon.</p>
</blockquote>
    
      <h2 id="1-create-the-application">
        
        
          1. Create the Application <a href="#1-create-the-application" class="anchor_heading">#</a>
        
        
      </h2>

<p>Create an application using the GCN Launcher.</p>

<ol>
  <li>
    <p>Open the <a href="/gcn/launcher/?advanced=true">GCN Launcher in advanced mode</a>.</p>
  </li>
  <li>Create a new project using the following selections.
    <ul>
      <li><strong>Project Type</strong>: <em>Application</em> (Default)</li>
      <li><strong>Project Name</strong>: <em>oci-secrets-demo</em></li>
      <li><strong>Base Package</strong>: <em>com.example</em> (Default)</li>
      <li><strong>Clouds</strong>: <em>OCI</em></li>
      <li><strong>Language</strong>: <em>Java</em> (Default)</li>
      <li><strong>Build Tool</strong>: <em>Gradle (Groovy)</em> or <em>Maven</em></li>
      <li><strong>Test Framework</strong>: <em>JUnit</em> (Default)</li>
      <li><strong>Java Version</strong>: <em>17</em> (Default)</li>
      <li><strong>Micronaut Version</strong>: (Default)</li>
      <li><strong>Cloud Services</strong>: <em>Database</em> and <em>Secret Management</em></li>
      <li><strong>Features</strong>: <em>GraalVM Native Image</em> and <em>MySQL</em></li>
      <li><strong>Sample Code</strong>: <em>Yes</em> (Default)</li>
    </ul>
  </li>
  <li>Click <strong>Generate Project</strong>, then click <strong>Download Zip</strong>. The GCN Launcher creates an application with the default package <code>com.example</code> in a directory named <em>oci-secrets-demo</em>.
The application ZIP file will be downloaded in your default downloads directory.
Unzip it, open in your code editor, and proceed to the next steps.</li>
</ol>

<p>Alternatively, use the GCN CLI as follows:</p>

<div id="tabs-doc2">
    <ul>
        <li class="tabs-gradle"><a name="gradle" href="#gradle">Gradle</a></li>
        <li class="tabs-maven"><a name="maven" href="#maven">Maven</a></li>
    </ul>
    <div id="gradle">
        <pre><code class="language-bash">gcn create-app com.example.oci-secrets-demo \
    --clouds=oci \
    --services=database,secretmanagement \
    --features=mysql,graalvm \
    --build=gradle \
    --lang=java</code></pre>
    </div>
    <div id="maven">
        <pre><code class="language-bash">gcn create-app com.example.oci-secrets-demo \
    --clouds=oci \
    --services=database,secretmanagement \
    --features=mysql,graalvm \
    --build=maven \
    --lang=java</code></pre>
    </div>
</div>

<p>For more information, see <a href="/gcn/get-started/using-gcn-cli/">Using the GCN CLI</a>.</p>
    
      <h2 id="2-create-an-oracle-mysql-database-instance">
        
        
          2. Create an Oracle MySQL Database Instance <a href="#2-create-an-oracle-mysql-database-instance" class="anchor_heading">#</a>
        
        
      </h2>

<p>Create a MySQL database using the <a href="/gcn/gcn-modules/database/micronaut-mysql-database-oci/" target="_blank">Create and Connect a Micronaut Application to an Oracle Cloud Infrastructure MySQL Database</a> guide.
Follow the steps in <strong>2</strong> (<em>Create an Oracle MySQL Database Instance</em>).</p>
    
      <h2 id="3-create-a-compute-instance-and-configure-the-database">
        
        
          3. Create a Compute Instance and Configure the Database <a href="#3-create-a-compute-instance-and-configure-the-database" class="anchor_heading">#</a>
        
        
      </h2>

<p>There is no direct way to externally <a href="https://docs.oracle.com/iaas/mysql-database/doc/connecting-db-system.html">connect to a MySQL database</a> in Oracle Cloud Infrastructure, so you need to create a Compute instance (virtual machine) in Oracle Cloud Infrastructure.</p>

<p>Create a Compute instance using the <a href="/gcn/gcn-modules/database/micronaut-mysql-database-oci/" target="_blank">Create and Connect a Micronaut Application to an Oracle Cloud Infrastructure MySQL Database</a> guide.
Follow the steps in section <strong>3</strong> (<em>Create a Compute Instance</em>).</p>
<blockquote>
  <p>Note: Use the same subnet as the one containing the MySQL database (otherwise the application will not be able to access the database).</p>
</blockquote>

<p>Configure your database by following the steps in section <strong>4</strong> (<em>Configure a MySQL Database</em>).</p>
    
      <h2 id="4-create-an-oracle-cloud-infrastructure-vault-master-encryption-key-and-secrets">
        
        
          4. Create an Oracle Cloud Infrastructure Vault, Master Encryption Key, and Secrets <a href="#4-create-an-oracle-cloud-infrastructure-vault-master-encryption-key-and-secrets" class="anchor_heading">#</a>
        
        
      </h2>

<p>Before you can create a secret, you require a Vault (to hold the secret) and a master encryption key (to secure the secret).</p>

<blockquote>
  <p>Note: In this guide, you create all the Oracle Cloud Infrastructure resources in the same compartment. However, the best practice is to have a one Vault in a compartment (managed by an administrator)—application owners manage their application secrets in their individual compartments.</p>
</blockquote>
    
      <h3 id="41-create-a-vault">
        
        
          4.1. Create a Vault <a href="#41-create-a-vault" class="anchor_heading">#</a>
        
        
      </h3>

<p>Create a Vault using the Oracle Cloud Infrastructure CLI.</p>

<p>The <code>create</code> command requires three parameters: compartment OCID, display name, and Vault type.
(See <a href="https://docs.oracle.com/iaas/tools/oci-cli/latest/oci_cli_docs/cmdref/kms.html" target="_blank">Key Management</a> for more information.)</p>

<p>Use the same compartment as the one you used for your database, above. 
You should have saved the compartment OCID as the value of the environment variable <code>$C</code>.</p>

<p>Choose a display name (1-100 characters) and a Vault type, either <code>DEFAULT</code> or <code>VIRTUAL_PRIVATE</code>.</p>
<blockquote>
  <p>Note: Choose <code>DEFAULT</code> to avoid the cost of a virtual private Vault.</p>
</blockquote>

<p>Run the <code>create</code> command, substituting the display name and Vault type, as follows:</p>

<pre><code class="language-bash">oci kms management vault create -c $C \
    --display-name gcn_guide_vault \
    --vault-type DEFAULT \
    | jq -r '.data.id'
</code></pre>

<p>The <code>jq</code> utility extracts the OCID of the Vault from the <code>id</code> property in the response; this is the unique identifier for your Vault which you will need later. 
Store the OCID as the value of the <code>VAULT_ID</code> environment variable:</p>

<pre><code class="language-bash">export VAULT_ID=ocid1.vault.oc1.iad.b5re3....abuwcljryp5dmxbu3si7...
</code></pre>
    
      <h3 id="42-create-a-master-encryption-key">
        
        
          4.2. Create a Master Encryption Key <a href="#42-create-a-master-encryption-key" class="anchor_heading">#</a>
        
        
      </h3>

<p>To <a href="https://docs.oracle.com/iaas/Content/KeyManagement/Tasks/managingkeys.htm" target="_blank">create a Master Encryption Key</a>, you need the Vault’s management endpoint URL. 
It is not in the response from the Vault <code>create</code> command, so run the <a href="https://docs.oracle.com/iaas/tools/oci-cli/latest/oci_cli_docs/cmdref/kms/management/vault/get.html" target="_blank">get command</a>, as follows:</p>

<pre><code class="language-bash">oci kms management vault get --vault-id $VAULT_ID
</code></pre>

<p>The response to the command should look like:</p>
<pre><code class="language-json">{
  "data": {
    "compartment-id": "ocid1.tenancy.oc1..aaaaaaaaixksuiqo3rx6...",
    "crypto-endpoint": "https://b5re3...-crypto.kms.us-ashburn-1.oraclecloud.com",
    ...
    "display-name": "gcn_guide_vault",
    "id": "ocid1.vault.oc1.iad.b5re3....abuwcljryp5dmxbu3si7...",
    "is-primary": true,
    "lifecycle-state": "ACTIVE",
    "management-endpoint": "https://b5re3...-management.kms.us-ashburn-1.oraclecloud.com",
    ...
  }
}
</code></pre>

<p>Wait a few minutes for the Vault to be provisioned. Re-run the command until the value of <code>lifecycle-state</code> is <code>ACTIVE</code>.
The value of the <code>management-endpoint</code> property provides the URL.</p>

<p>Store the URL as the value of the <code>VAULT_ENDPOINT</code> environment variable:</p>

<pre><code class="language-bash">export VAULT_ENDPOINT=https://b5re3...-management.kms.us-ashburn-1.oraclecloud.com
</code></pre>

<p>Choose a name for the key, such as “gcn-guide-encryption-key”, and a “Protection Mode”, either <code>SOFTWARE</code> or <code>HSM</code>.</p>
<blockquote>
  <p>Note: Choose <code>SOFTWARE</code> to avoid the cost of using a hardware security module (HSM).</p>
</blockquote>

<p>Use the  <code>AES</code> key shape algorithm and a key length of 32 (256 bits).</p>

<p>Run the <a href="https://docs.oracle.com/iaas/tools/oci-cli/latest/oci_cli_docs/cmdref/kms/management/key/create.html" target="_blank"><code>create</code></a> command, substituting the display name, protection mode, key shape, and management endpoint, as shown below. (Use the same compartment OCID as before.)</p>

<pre><code class="language-bash">oci kms management key create -c $C \
    --display-name gcn-guide-encryption-key \
    --protection-mode SOFTWARE \
    --key-shape '{"algorithm":"AES","length":"32"}' \
    --endpoint $VAULT_ENDPOINT \
    | jq -r '.data.id'
</code></pre>

<p>If you use Windows, escape the inner double quotes in the value for <code>key-shape</code>: <code>'{\"algorithm\":\"AES\",\"length\":\"32\"}</code></p>

<p>The <code>jq</code> utility extracts the <code>id</code> value from the response:</p>

<pre><code>ocid1.key.oc1.iad.b5re3.....abuwcljrcuie7t6gctc6...
</code></pre>

<p>Store the OCID as the value of the <code>VAULT_KEY_ID</code> environment variable:</p>

<pre><code class="language-bash">export VAULT_KEY_ID=ocid1.key.oc1.iad.b5re3.....abuwcljrcuie7t6gctc6...
</code></pre>
    
      <h3 id="43-create-secrets">
        
        
          4.3. Create Secrets <a href="#43-create-secrets" class="anchor_heading">#</a>
        
        
      </h3>

<p>In this guide you store values for the database username, password, and URL in a Vault by creating secrets for the properties named “datasources.default.username”, “datasources.default.password”, and “datasources.default.url”. You create the secrets in the same compartment as your other Oracle Cloud Infrastructure resources.</p>
    
      <h4 id="431-create-a-secret-named-datasourcesdefaultusername">
        
        
          4.3.1. Create a Secret named “datasources.default.username”
        
        
      </h4>

<p>The first secret is for the database username, named “datasources.default.username”.</p>

<p>You must Base64-encode the contents of a secret.
You can encode the contents programmatically, for example via the Java statement <code>Base64.getEncoder().encodeToString("the value".getBytes())</code>, or use an online tool such as <a href="https://www.base64encode.org/" target="_blank">https://www.base64encode.org/</a>.</p>

<p>Run the <a href="https://docs.oracle.com/iaas/tools/oci-cli/latest/oci_cli_docs/cmdref/vault/secret/create-base64.html" target="_blank"><code>create-base64</code></a> command substituting the secret name and Base64-encoded secret.
(If you use “guide_user” as the database username, the Base64-encoded version is “Z3VpZGVfdXNlcg==”.)</p>

<pre><code class="language-bash">oci vault secret create-base64 -c $C \
    --key-id $VAULT_KEY_ID \
    --vault-id $VAULT_ID \
    --secret-name datasources.default.username \
    --secret-content-content Z3VpZGVfdXNlcg==
</code></pre>

<p>The response should look like this:</p>
<pre><code class="language-json">{
  "data": {
    "compartment-id": "ocid1.compartment.oc1..aaaaaaaarkh3s2wcxbbm...",
    ...
    "id": "ocid1.vaultsecret.oc1.iad.amaaaaaafzr7royabqgz...",
    "key-id": "ocid1.key.oc1.iad.b5re3.....abuwcljrcuie7t6gctc6...",
    "lifecycle-state": "CREATING",
    "secret-name": "datasources.default.username",
    ...
    "vault-id": "ocid1.vault.oc1.iad.b5re3....abuwcljryp5dmxbu3si7..."
  }
}
</code></pre>
    
      <h4 id="432-create-secret-named-datasourcesdefaultpassword">
        
        
          4.3.2. Create Secret named: “datasources.default.password”
        
        
      </h4>

<p>Create a second secret with the name “datasources.default.password”.
Set the contents of the section as the Base64-encoded version of the database user password you chose earlier.</p>
    
      <h4 id="433-create-secret-named-datasourcesdefaulturl">
        
        
          4.3.3. Create Secret named: “datasources.default.url”
        
        
      </h4>

<p>Create a third secret with the name “datasources.default.url”. 
The URL is “jdbc:mysql://&lt;MySQL IP address&gt;:3306/&lt;MySQL Database Name&gt;” substituting the private IP address and name of your MySQL database.
Set the contents of the secret as the Base64-encoded version of the URL.</p>
    
      <h2 id="5-use-a-vault-with-micronaut">
        
        
          5. Use a Vault with Micronaut <a href="#5-use-a-vault-with-micronaut" class="anchor_heading">#</a>
        
        
      </h2>

<p><a href="https://micronaut-projects.github.io/micronaut-oracle-cloud/latest/guide/" target="_blank">Micronaut Oracle Cloud</a> provides integration between Micronaut applications and Oracle Cloud Infrastructure services, including using <a href="https://micronaut-projects.github.io/micronaut-oracle-cloud/latest/guide/#vault" target="_blank">Vault</a> as a distributed configuration source.
GCN added the appropriate dependencies to your build file when you selected the <strong>Database</strong> and <strong>Secret Management</strong> services in the GCN Launcher.</p>
    
      <h3 id="51-modify-the-micronaut-configuration">
        
        
          5.1. Modify the Micronaut Configuration <a href="#51-modify-the-micronaut-configuration" class="anchor_heading">#</a>
        
        
      </h3>

<ol>
  <li>
    <p>The Micronaut <strong>bootstrap</strong> configuration file contains the properties to authenticate your application against Oracle Cloud Infrastructure, as well as the compartment OCIDs of the Vault and secrets.</p>

    <p>Modify the file named <em>oci/src/main/resources/bootstrap-oraclecloud.properties</em> so that its contents matches the following:</p>

    <pre><code> micronaut.application.name=oci
 micronaut.config-client.enabled=true
 # &lt;1&gt;
 oci.config.instance-principal.enabled=true
 oci.vault.config.enabled=true
 # &lt;2&gt;
 oci.vault.vaults[0].compartment-ocid=${C}
 # &lt;3&gt;
 oci.vault.vaults[0].ocid=${VAULT_ID}
</code></pre>

    <p><strong>1</strong> Use <a href="https://micronaut-projects.github.io/micronaut-oracle-cloud/latest/guide/#instance-principals" target="_blank">Instance Principal authentication</a> to enable the Micronaut application to access secrets in the Vault.</p>

    <p><strong>2</strong> Set the value of the <code>oci.vault.vaults[0].compartment-ocid</code> property with the OCID of the compartment where you created the secrets.</p>

    <p><strong>3</strong> Set the value of the <code>oci.vault.vaults[0].ocid</code> property with the OCID you saved when creating the Vault.</p>
  </li>
  <li>
    <p>The Micronaut <strong>application</strong> configuration file contains the properties for your database connection.
 Modify the file named <em>oci/src/main/resources/application-oraclecloud.properties</em> so that its contents matches the following:</p>

    <pre><code> datasources.default.db-type=mysql
 datasources.default.dialect=MYSQL
 datasources.default.driver-class-name=com.mysql.cj.jdbc.Driver
 flyway.datasources.default.enabled=true
 oci.config.profile=DEFAULT
</code></pre>
  </li>
</ol>
    
      <h2 id="6-set-up-oracle-cloud-authentication">
        
        
          6. Set Up Oracle Cloud Authentication <a href="#6-set-up-oracle-cloud-authentication" class="anchor_heading">#</a>
        
        
      </h2>

<p>In step <a href="#51-modify-the-micronaut-configuration"><strong>5.1</strong></a> above, you modified the Micronaut <strong>bootstrap</strong> configuration file to use <a href="https://micronaut-projects.github.io/micronaut-oracle-cloud/latest/guide/#instance-principals" target="_blank">Instance Principal authentication</a> so that the application can retrieve secrets.
To use this from your compute instance, create a dynamic group and add a policy statement granting permission.</p>
    
      <h3 id="61-create-a-dynamic-group">
        
        
          6.1. Create a Dynamic Group <a href="#61-create-a-dynamic-group" class="anchor_heading">#</a>
        
        
      </h3>

<p>Choose a group name, such as “gcn-guide-dg”, and a matching rule (the logic that will be used to determine group membership).
For this guide, use a broad rule that includes all compute instances in your compartment: <code>ALL {instance.compartment.id = 'ocid1.compartment.oc1..aaaaaaaarkh3s2wcxbbm…​'}</code> replacing <code>ocid1.compartment.oc1..aaaaaaaarkh3s2wcxbbm…​</code>` with the compartment OCID.</p>

<p>Run the <a href="https://docs.oracle.com/iaas/tools/oci-cli/latest/oci_cli_docs/cmdref/iam/dynamic-group/create.html"><code>create</code></a> command:</p>

<pre><code class="language-bash">oci iam dynamic-group create \
   --name mn-guide-dg \
   --description mn-guide-dg \
   --matching-rule "ALL {instance.compartment.id = 'ocid1.compartment.oc1..aaaaaaaarkh3s2wcxbbm...'}" \
   | jq -r '.data."compartment-id"'
</code></pre>

<p>The <code>jq</code> utility extracts the <code>compartment-id</code> value from the response. Store it (the tenancy OCID) as the value of the <code>T</code> environment variable:</p>

<pre><code class="language-bash">export T=ocid1.tenancy.oc1..aaaaaaaaud4g4e5ovjaw...
</code></pre>

<p>For more information, see <a href="https://docs.oracle.com/iaas/Content/Identity/Tasks/managingdynamicgroups.htm" target="_blank">Dynamic Groups</a>.</p>
    
      <h3 id="62-add-dynamic-group-policy-statements">
        
        
          6.2. Add Dynamic Group Policy Statements <a href="#62-add-dynamic-group-policy-statements" class="anchor_heading">#</a>
        
        
      </h3>

<p>Create a policy to grant read access to Vault secrets in your compartment. Create the policy in the root compartment (the tenancy), use the tenancy OCID saved from the dynamic group creation response.</p>

<p>Run the <a href="https://docs.oracle.com/iaas/tools/oci-cli/latest/oci_cli_docs/cmdref/iam/policy/create.html" target="_blank"><code>create</code></a> command:</p>

<pre><code class="language-bash">oci iam policy create -c $T \
    --name gcn-guide-policy \
    --description gcn-guide-policy \
    --statements '["allow dynamic-group gcn-guide-dg to read secret-family in tenancy"]' \
    | jq -r '.data.id'
</code></pre>

<p>The <code>jq</code> utility extracts the policy OCID from the <code>id</code> property in the response. Store it as the value of the <code>POLICY_ID</code> environment variable:</p>

<pre><code class="language-bash">export POLICY_ID=ocid1.policy.oc1..aaaaaaaau7uhwxr3ynlr...
</code></pre>
    
      <h2 id="7-start-the-application">
        
        
          7. Start the Application <a href="#7-start-the-application" class="anchor_heading">#</a>
        
        
      </h2>

<ol>
  <li>
    <p>Create an executable JAR file including all application’s dependencies:</p>

    <div id="tabs-doc4">
   <ul>
       <li class="tabs-gradle"><a href="#gradle">Gradle</a></li>
       <li class="tabs-maven"><a href="#maven">Maven</a></li>
   </ul>
   <div id="gradle">
       <pre><code class="language-bash">./gradlew :oci:shadowJar</code></pre>
   </div>
   <div id="maven">
       <pre><code class="language-bash">./mvnw install -pl lib -am &amp;&amp; ./mvnw package -pl oci -DskipTests</code></pre>
   </div>
 </div>
  </li>
  <li>
    <p>From a local console, copy the JAR file from your computer to the compute instance using <code>scp</code>:</p>

    <div id="tabs-doc5">
   <ul>
       <li class="tabs-gradle"><a href="#gradle">Gradle</a></li>
       <li class="tabs-maven"><a href="#maven">Maven</a></li>
   </ul>
   <div id="gradle">
       <pre><code class="language-bash">scp -i /path/to/ssh-key-*.key path/to/oci-secrets-demo/oci/build/libs/oci-1.0-SNAPSHOT-all.jar opc@[COMPUTE_INSTANCE_PUBLIC_IP]:~/application.jar
       </code></pre>
   </div>
   <div id="maven">
       <pre><code class="language-bash">scp -i /path/to/ssh-key-*.key path/to/oci-secrets-demo/oci/target/oci-1.0-SNAPSHOT.jar opc@[COMPUTE_INSTANCE_PUBLIC_IP]:~/application.jar
       </code></pre>
   </div>
 </div>
  </li>
  <li>Once copied, connect to the compute instance (if it has disconnected by now):
    <pre><code class="language-bash"> ssh -i /path/to/ssh-key-*.key opc@[COMPUTE_INSTANCE_PUBLIC_IP]
</code></pre>
  </li>
  <li>Start the application:
    <pre><code class="language-bash"> java -jar application.jar
</code></pre>
  </li>
  <li>From a local console, run this command to test that you can create and store a new <code>Genre</code> in the database:
    <pre><code class="language-bash"> curl -X "POST" "http://[COMPUTE_INSTANCE_PUBLIC_IP]:8080/genres" \
       -H 'Content-Type: application/json; charset=utf-8' \
       -d $'{ "name": "music" }'
</code></pre>

    <p>Then list the genres:</p>
    <pre><code class="language-bash"> curl [COMPUTE_INSTANCE_PUBLIC_IP]:8080/genres/list
</code></pre>

    <p>The response should look like this:</p>
    <pre><code class="language-json"> {"id":1,"name":"music"}
</code></pre>
  </li>
</ol>
    
      <h2 id="8-package-with-graalvm-native-image">
        
        
          8. Package with GraalVM Native Image <a href="#8-package-with-graalvm-native-image" class="anchor_heading">#</a>
        
        
      </h2>

<p>GCN supports compiling a Java application ahead-of-time into a native executable using <a href="https://www.graalvm.org/native-image/" target="_blank">GraalVM Native Image</a>. 
You can use the <em><a href="https://graalvm.github.io/native-build-tools/latest/gradle-plugin.html" target="_blank">Gradle plugin for GraalVM Native Image building</a></em>/<em><a href="https://graalvm.github.io/native-build-tools/latest/maven-plugin.html" target="_blank">Maven plugin for GraalVM Native Image building</a></em>.
Packaged as a native executable, it significantly reduces application startup time and memory footprint.</p>

<p>If you build a native executable locally, it will only run on your OS, and isn’t suitable for deployment to a compute instance.
To create a deployable native executable, use a different packaging command that builds the executable inside a container, which you can extract to deploy to the cloud.</p>

<ol>
  <li>
    <p>From a local console, generate a container image containing the native executable by running the following command:</p>

    <div id="tabs-doc6">
   <ul>
       <li class="tabs-gradle"><a href="#gradle">Gradle</a></li>
       <li class="tabs-maven"><a href="#maven">Maven</a></li>
   </ul>
   <div id="gradle">
       <pre><code class="language-bash">./gradlew :oci:dockerBuildNative</code></pre>
   </div>
   <div id="maven">
       <pre><code class="language-bash">./mvnw install -pl lib -am &amp;&amp; ./mvnw package -pl oci -Dpackaging=docker-native</code></pre>
   </div>
 </div>
  </li>
  <li>
    <p>Find the ID of the container image you built by running the following command:</p>

    <pre><code class="language-bash"> docker image ls
</code></pre>

    <p>The container images are listed chronologically with the most recent at the top, so your output will look like this:</p>

    <pre><code class="language-bash"> REPOSITORY   TAG      IMAGE ID       CREATED          SIZE
 oci          latest   41c8a902b2e7   32 seconds ago   100MB
</code></pre>
  </li>
  <li>
    <p>Extract the native executable from the container image by running these commands, replacing <code>&lt;image_id&gt;</code> with the ID of the container image, for example, <code>41c8a902b2e7</code>:</p>

    <pre><code class="language-bash"> docker create --name container_temp &lt;image_id&gt;
 docker cp container_temp:/app/application .
 docker rm container_temp
</code></pre>
  </li>
</ol>
    
      <h2 id="9-deploy-from-a-native-executable">
        
        
          9. Deploy from a Native Executable <a href="#9-deploy-from-a-native-executable" class="anchor_heading">#</a>
        
        
      </h2>

<ol>
  <li>
    <p>From a local console, copy the native executable from your computer to the compute instance using <code>scp</code>:</p>

    <pre><code class="language-bash"> scp -i /path/to/ssh-key-*.key application opc@[COMPUTE_INSTANCE_PUBLIC_IP]:~/
</code></pre>
  </li>
  <li>Once copied, connect to the compute instance (if it has disconnected by now):
    <pre><code class="language-bash"> ssh -i /path/to/ssh-key-*.key opc@[COMPUTE_INSTANCE_PUBLIC_IP]
</code></pre>
  </li>
  <li>
    <p>Stop the application running from the JAR file if it’s still running.</p>
  </li>
  <li>Run the native executable:
    <pre><code class="language-bash"> ./application
</code></pre>
  </li>
  <li>From the local console, repeat the tests from step <strong>7</strong> above.</li>
</ol>
    
      <h2 id="10-clean-up-cloud-resources">
        
        
          10. Clean up Cloud Resources <a href="#10-clean-up-cloud-resources" class="anchor_heading">#</a>
        
        
      </h2>

<p>After you’ve completed this guide, you can clean up the resources you created.</p>
<ol>
  <li>
    <p><a href="https://docs.oracle.com/iaas/tools/oci-cli/latest/oci_cli_docs/cmdref/iam/policy/delete.html" target="_blank">Delete the policy</a> by running the following command:</p>

    <pre><code class="language-bash"> oci iam policy delete --policy-id $POLICY_ID
</code></pre>
  </li>
  <li>
    <p>To delete the dynamic group, find its OCID by running the <a href="https://docs.oracle.com/iaas/tools/oci-cli/latest/oci_cli_docs/cmdref/iam/dynamic-group/list.html" target="_blank"><code>list</code></a> command:</p>

    <pre><code class="language-bash"> oci iam dynamic-group list | jq -r '.data[] | select(.name=="gcn-guide-dg") | .id'
</code></pre>

    <p>and run the <a href="https://docs.oracle.com/iaas/tools/oci-cli/latest/oci_cli_docs/cmdref/iam/dynamic-group/delete.html" target="_blank"><code>delete</code></a> command, substituting the group OCID:</p>

    <pre><code class="language-bash"> oci iam dynamic-group delete --dynamic-group-id ocid1.dynamicgroup.oc1..aaaaaaaaipoabhhaqnj77urm...
</code></pre>
  </li>
  <li>
    <p>Delete the Vault.
You cannot delete it directly; instead <a href="https://docs.oracle.com/iaas/tools/oci-cli/latest/oci_cli_docs/cmdref/kms/management/vault/schedule-deletion.html" target="_blank">request deletion</a> at a date at least seven days in the future.
Run this, replacing the date:</p>

    <pre><code class="language-bash"> oci kms management vault schedule-deletion \
     --vault-id $VAULT_ID \
     --time-of-deletion 2023-12-12
</code></pre>
  </li>
  <li>
    <p>Finally, delete the database it <a href="https://docs.oracle.com/iaas/tools/oci-cli/latest/oci_cli_docs/cmdref/mysql/db-system/delete.html" target="_blank">using the CLI</a>. Run the following command:</p>

    <pre><code class="language-bash"> oci mysql db-system delete \
     --db-system-id ocid1.mysqldbsystem.oc1.iad.aaaaaaaa2pq3a37hftut...
</code></pre>
  </li>
</ol>
    
      <h3 id="summary">
        
        
          Summary <a href="#summary" class="anchor_heading">#</a>
        
        
      </h3>

<p>This guide demonstrated how to create a Java application that stores MySQL database connection details as <strong>secrets</strong> in an Oracle Cloud Infrastructure <strong>vault</strong>.
You also saw how to package this application into a native executable and deploy it to a Compute instance.</p>
    
      <h3 id="related-labs">
        
        
          Related Labs <a href="#related-labs" class="anchor_heading">#</a>
        
        
      </h3>
<ul>
  <li><a href="https://luna.oracle.com/lab/296b5fb9-32bc-4260-b83f-072d4dd2d3c4" target="_blank">Oracle Cloud Infrastructure Autonomous DB, Vault, Micronaut, Graal Cloud Native</a></li>
  <li><a href="https://luna.oracle.com/lab/c28c56d0-3bfa-4905-9fcd-6ba6e8a3ea42" target="_blank">Oracle Cloud Infrastructure MySQL, Vault, Micronaut, Graal Cloud Native</a></li>
</ul>
    
      <h3 id="related-documentation">
        
        
          Related Documentation <a href="#related-documentation" class="anchor_heading">#</a>
        
        
      </h3>
<ul>
  <li><a href="https://micronaut-projects.github.io/micronaut-oracle-cloud/latest/guide/">Micronaut Oracle Cloud</a></li>
  <li><a href="https://docs.oracle.com/iaas/Content/KeyManagement/home.htm">Oracle Cloud Infrastructure Vault</a></li>
</ul>

      </div>

      <div role="button" class="menu-btn menu-btn--sidebar js-show-sidebar" title="sweet hamburger">
        <div class="hamburger">
          <div class="inner"></div>
        </div>
      </div>
    </div>
  </div>
</article>



</div>

      </main>

      
<footer class="footer footer__mobile">

  <div class="container-fluid container-fluid--custom-sm">
    <div class="row">
      <div class="col-12 col-sm-12 col-md-12 col-lg-12">
        <div class="row footer-content">
          <div class="col-md-3 col-sm-4">
            <h6 class="title-footer" onclick="fadeInAndOut(this)">Learn</h6>
            <div class="grow">
              <ul class="footer-list">
                <li class="footer-list__item"><a href="/gcn/get-started/">Get Started</a></li>
                <li class="footer-list__item"><a href="/gcn/guides/">Guides</a></li>
                <li class="footer-list__item"><a href="/gcn/hands-on-labs/">Labs</a></li>
                <li class="footer-list__github">
                  <img class="footer__icon" src="/gcn/resources/img/footer/logo-github.svg" alt="Github icon">
                  <a href="https://github.com/oracle/gcn" target="blank">Github</a>
                </li>
                <li class="footer-list__github">
                  <img class="footer__icon" src="/gcn/resources/img/footer/slack-icon.svg" alt="Github icon">
                  <a href="https://bit.ly/odevrel_slack" target="blank">Join us at: #graal-cloud-native</a>
                </li>
              </ul>
            </div>
          </div>
          <div class="col-md-3 col-sm-4">
            <h6 class="title-footer" onclick="fadeInAndOut(this)">About</h6>
            <div class="grow">
              <ul class="footer-list">
                <li class="footer-list__item"><a href="/gcn/about/#support" target="blank">Commercial Support</a></li>
                <li class="footer-list__item"><a href="https://www.graalvm.org/" target="blank">GraalVM Native Image</a></li>
                <li class="footer-list__item"><a href="https://micronaut.io/" target="_blank">Micronaut</a></li>
                <li class="footer-list__item"><a href="https://www.oracle.com/cloud/multicloud/what-is-multicloud/" target="_blank">Multicloud</a></li>
                <li class="footer-list__item"><a href="https://www.oracle.com/cloud/" target="blank">Oracle Cloud Infrastructure</a></li>
                <li class="footer-list__item"><a href="https://marketplace.visualstudio.com/items?itemName=oracle-labs-graalvm.graal-cloud-native-pack" target="blank">VS Code Tools</a></li>
              </ul>
            </div>
          </div>
          <div class="col-md-6 col-sm-12 aligning_1024">
            <div class="card--footer card--hovered box">
              <div>
                <div class="rubber-footer footer__oci-section">
                  <p class="title-footer quickstart">Build, test, and deploy applications on Oracle Cloud Infrastructure for free</p>
                  <a href="https://www.oracle.com/cloud/free/" target="_blank"
                    class="btn btn-primary">Try Oracle Cloud Infrastructure Free Tier</a>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-12 col-sm-12 col-md-12 col-lg-12">
          <div class="row">
            <div class="col-sm-12">
              <p class="copyright">
                Copyright © 2023-2024, Oracle and/or its affiliates. All rights reserved.
                Oracle and Java are registered trademarks of Oracle and/or its affiliates.
                Other names may be trademarks of their respective owners. 
              </p>
              <div id="teconsent"></div>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</footer>

<script>
  function fadeInAndOut(thz) {
    var elmt = thz.nextElementSibling;//Get the element that is below the button that
    //was just clicked
    if (elmt.clientHeight) {
      elmt.style.height = 0;
    } else {
      var wrapper = elmt.querySelector('ul');
      elmt.style.height = wrapper.clientHeight + "px";
    }
    /*
        elmt.classList.toggle("acordianPanelHidden");//Toggle the class which changes
        //attributes which triggers the transition CSS
        */
  }

  // Check TRUSTe Consent for Functional or Implied Approval
  // The if test verifies if the user has given the consent
  if ( (oracle.truste.api.getGdprConsentDecision().consentDecision) &&
      (oracle.truste.api.getGdprConsentDecision().consentDecision.indexOf(0) != -1 ||
        oracle.truste.api.getGdprConsentDecision().consentDecision.indexOf(2) != -1) ) {

      //The following is a sample of a Maxymiser Tag being written to the DOM
      //If the user did not give consent, then the tag is not included and not invoked in the Browser
      document.write('<script type="text/javascript" src="//service.maxymiser.net/cdn/oracle/js/mmcore.js"><\/script>');
  }

  // Check TRUSTe Consent for Advertising or Implied Approval
  // The if test verifies if the user has given the consent
  if ( (oracle.truste.api.getGdprConsentDecision().consentDecision) &&
      (oracle.truste.api.getGdprConsentDecision().consentDecision.indexOf(0) != -1 ||
        oracle.truste.api.getGdprConsentDecision().consentDecision.indexOf(3) != -1) ) {

      //The following is a sample of a BlueKai Core Tag being written to the DOM
      //If the user did not give consent, then the tag is not included and not invoked in the Browser
      document.write('<script type="text/javascript">' +
      'window.bk_async = function() { ' +
      'BKTAG.doTag(62581, 1); }; ' +
      '(function() { ' +
      'var scripts = document.getElementsByTagName(\'script\')[0]; ' +
      'var s = document.createElement(\'script\'); ' +
      's.async = true; ' +
      's.src = "https://tags.bkrtx.com/js/bk-coretag.js"; ' +
      'scripts.parentNode.insertBefore(s, scripts); ' +
      '}()); ' +
      '<\/script>');
  }
</script>

    </div>
    <div class="overlay"></div>

    <!-- Start SiteCatalyst code -->
    <script language="JavaScript" src="https://www.oracle.com/us/assets/metrics/ora_otn.js"></script>
    <!-- End SiteCatalyst code -->

    <script src='/gcn/resources/lib/slick-slider/slick.min.js'></script>
    <script src='/gcn/resources/js/main.js'></script>
    <script src='/gcn/resources/js/ui.js'></script>
    <script src='/gcn/resources/js/filters.js'></script>
    <script src='/gcn/resources/js/sidebar.js'></script>
    <script src='/gcn/resources/lib/highlight/highlight.min.js'></script> 
    <script>hljs.highlightAll();</script>
  </body>
</html>
