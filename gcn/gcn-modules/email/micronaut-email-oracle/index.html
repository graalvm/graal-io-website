<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:image" content="/gcn/resources/img/graalvm.png" />
  <meta name="twitter:widgets:border-color" content="#55acee">

  <title>
    
      Create an Application to Send Email with the Oracle Cloud Infrastructure Email Delivery Service
    
  </title>
  <meta name="description" content="Graal Cloud Native (GCN) is a build of a curated set of Micronaut framework modules and their required libraries for building portable cloud-native microserv..."/>
  <meta name="last_modified" content="2023-09-20 14:46:17 +0000"/>
  <link rel="stylesheet" href="/gcn/assets/main.css">
  <link rel="apple-touch-icon" sizes="180x180" href="/gcn/resources/img/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/gcn/resources/img/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/gcn/resources/img/favicon/favicon-16x16.png">
  <link rel="manifest" href="/resources/img/favicon/site.webmanifest">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <meta name="google-site-verification" content="-vRqwa9WYn6AaQGnl88xvrLw6ac4xoKVkZkhanmlRhU" />
  <link rel="canonical" href="https://www.graal.cloud/gcn/gcn-modules/email/micronaut-email-oracle/">

  <!-- jQuery UI Tabs -->
  <link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="/gcn/resources/lib/jquery/jquery-ui.css">
</head>

      <script src="/gcn/resources/lib/jquery/jquery-3.6.1.min.js"></script>
    <script src="/gcn/resources/lib/bootstrap/js/bootstrap.min.js"></script>
    <script src='/gcn/resources/lib/sticky-sidebar/resizeSensor.js'></script>
    <script src='/gcn/resources/lib/sticky-sidebar/sticky-sidebar.min.js'></script>
    <script src="/gcn/resources/lib/highlight/highlight.min.js"></script>
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <!-- Add TRUSTe Consent Script and Analytics -->
    <script async="async" type="text/javascript" src='//consent.trustarc.com/notice?domain=oracle.com&c=teconsent&js=bb&noticeType=bb&text=true&cdn=1&pcookie&gtm=1' crossorigin></script>
    <script src="https://www.oracle.com/assets/truste-oraclelib.js"></script>
    <!-- jQuery UI Tabs -->
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>


  <body class="preload">

    <div  class="wrapper wrapper--nofooter" >

      <header  class="header header--content" 
  role="banner">

  

  

    <nav class="menu">
      <div class="menu__row">
        <div>
          <a href="/gcn/">
            <img class="logo-mobile" src="/gcn/resources/img/gcn-logo-01.svg" alt="Graal Cloud Native logo">
          </a>
        </div>
        <div class="menu__container">
          <ul class="menu__list">
            <li class="menu__item">
              <a href="/gcn/about/" class="menu__link">About</a>
            </li>
            <li class="menu__item">
              <a href="/gcn/get-started/" class="menu__link">Get Started</a>
            </li>
            <li class="menu__item">
              <a href="/gcn/modules/" class="menu__link">Modules</a>
            </li>
            <li class="menu__item">
              <a href="/gcn/guides/" class="menu__link">Guides</a>
            </li>
            <li class="menu__item">
              <a href="/gcn/hands-on-labs/" class="menu__link">Hands-On Labs</a>
            </li>
            <li class="menu__item">
              <a href="/gcn/vscode-tools/" class="menu__link">Tools</a>
            </li>
            <li class="menu__launch__mobile">
              <a href="/gcn/launcher/" class="btn-launch btn btn-primary" target="blank">Create App</a>
            </li>
          </ul>
        </div>
        <div class="menu__launch">
          <a href="/gcn/launcher/" class="btn-launch btn btn-primary" target="blank">Create App</a>
        </div>
      </div>

      <div role="button" class="menu-btn menu-btn--menu js-show-menu" tabindex="-1" title="sweet hamburger">
        <div class="hamburger">
          <div class="inner"></div>
        </div>
      </div>
      <button aria-label="hamburger mobile menu" class="btn btn-mobile-menu js-show-menu">
        <div class="inner"></div>
      </button>
    </nav>

  
</header>

<!-- <header  class="header header--content" >

  

  

    <nav class="menu">
      <div class="menu__row">
        <div>
          <a href="/gcn/graal">
            <img class="logo-mobile" src="/gcn/resources/img/gcn-logo-01.svg" alt="Graal Cloud Native logo">
          </a>
        </div>
        <div class="menu__container">
          <ul class="menu__list">
            <li class="menu__item">
              <a href="/gcn/graal/#whatisgraal" class="menu__link">About</a>
            </li>
            <li class="menu__item">
              <a href="https://graalvm.org" class="menu__link">GraalVM</a>
            </li>
            <li class="menu__item">
              <a href="https://graalvm.org" class="menu__link">GraalVM</a>
            </li>
            <li class="menu__item">
              <a href="https://graalvm.org" class="menu__link">GraalVM</a>
            </li>
          </ul>
        </div>
      </div>

      <div role="button" class="menu-btn menu-btn--menu js-show-menu" tabindex="-1" title="sweet hamburger">
        <div class="hamburger">
          <div class="inner"></div>
        </div>
      </div>
      <button aria-label="hamburger mobile menu" class="btn btn-mobile-menu js-show-menu">
        <div class="inner"></div>
      </button>
    </nav>

  
</header> -->

      <main  class="content"   aria-label="Content">
        <div class="wrapper wrapper-content">
  <article>
  <div class="row d-flex flex-wrap">
    <div class="col-sm-3 docsimpro col-bg">
      <div class="sidebar-wrap">
        <div class="sidebar">
          <div class="menuabout">
            <img id="sidebarClose" src="/gcn/resources/img/arrow_sidebar(close).svg" alt="Expand or collapse sidebar"
              class="btn-color no-display">
            <img id="sidebarOpen" src="/gcn/resources/img/arrow_sidebar.svg" alt="Expand or collapse sidebar">
          </div>
          
<div class="toc-floating">


<div class="toc-bullets">


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    

    
      
        
          <li class="toc-bullets-main">
        
          
          <a href="/gcn/docs/gcn-modules/email/" class="_icon-book">
            Email
          </a>
        </li>

        
        

        
        
          
          <li class="toc-bullets-sub toc-bullets-highlight">
          
            
            <a href="/gcn/gcn-modules/email/micronaut-email-oracle/">
              Create an Application to Send Email with the Oracle Cloud Infrastructure Email Delivery Service
            </a>
          </li>

          
            <div>
  <script>
    var scriptElement = document.currentScript;
    var div = $(scriptElement.parentElement);
    $(window).on("load", function () {
      $("#content-wrapper h2").each(function () {
        var li = $("<li></li>", { class: "toc-bullets-sub toc-bullets-sub-3" });
        var a = $("<a></a>", { href: "#" + $(this).attr("id") });
        a.text($(this).text().replace('#', ''));
        li.append(a);
        li.click(function (e) {
          e.preventDefault();
          var target = $(a.attr('href'));
          var scrollTo = target.offset().top - 80; // 80 - indent
          $('html, body').animate({ scrollTop: scrollTo }, 1000);
        });
        div.append(li);
      });
    });
  </script>
</div>
          
        
      
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

<!-- <li class="search additional-search">
  <form class="form-inline sidebar" action="/docs/search" autocomplete="on" method="get">
    <input class="input-search sidebar" type="text" id="search-box" name="query" placeholder="Search">
    <button type="submit sidebar" class="search-button"></button>
  </form>
</li> -->

</div>
  <!-- Search form -->
  <!-- <form class="search-container" action="/docs/search" autocomplete="on" method="get">
   <label for="search-box">Search</label>
    <input type="text" id="search-box" name="query">
    <button type="submit" class="searchbttn"></button>
  </form> -->
</div>

        </div>
      </div>
    </div>

    <div class="col-sm-9 docsmod">
      <div id="content-wrapper" class="docs-content docs-content--with-sidebar">
        <h1 id="create-an-application-to-send-email-with-oracle-cloud-infrastructure-email-delivery-service">
        
        
          Create an Application to Send Email with Oracle Cloud Infrastructure Email Delivery Service
        
        
      </h1>

<p>This guide describes how to use GCN to create a Java application that sends email using the <a href="https://docs.oracle.com/iaas/Content/Email/Concepts/overview.htm">Oracle Cloud Infrastructure Email Delivery Service</a> and the <a href="https://micronaut-projects.github.io/micronaut-email/latest/guide/">Micronaut Email</a> implementation of the <a href="https://javaee.github.io/javamail/">JavaMail API</a>.</p>

<p>Oracle Cloud Infrastructure Email Delivery is an email sending service and SMTP relay that provides a fast and reliable managed solution for sending both high volume bulk and transactional email that need to reach the inbox.</p>
    
      <h3 id="prerequisites">
        
        
          Prerequisites <a href="#prerequisites" class="anchor_heading">#</a>
        
        
      </h3>

<ul>
  <li>JDK 17 or higher. See <a href="/gcn/get-started/setting-up-desktop/">Setting up Your Desktop</a>.</li>
  <li>An Oracle Cloud Infrastructure account. See <a href="/gcn/get-started/setting-up-cloud-accounts/">Setting up Your Cloud Accounts</a>.</li>
  <li>The Oracle Cloud Infrastructure <a href="https://docs.cloud.oracle.com/iaas/Content/API/SDKDocs/cliinstall.htm">CLI</a> installed with <a href="https://docs.oracle.com/iaas/Content/API/SDKDocs/cliinstall.htm#configfile">local access configured</a>.</li>
  <li>The GCN CLI. See <a href="/gcn/get-started/setting-up-desktop/">Setting up Your Desktop</a>. (Optional.)</li>
</ul>

<p>Follow the steps below to create the application from scratch. However, you can also download the completed example in Java:</p>

<div id="tabs-doc1">
    <ul>
        <li class="tabs-gradle"><a name="gradle" href="#gradle">Gradle</a></li>
        <li class="tabs-maven"><a name="maven" href="#maven">Maven</a></li>
    </ul>
    <div id="gradle">
        <p><a href="/gcn/docs/gcn-modules/email/archives/oci-email-demo-java-gradle.zip">Gradle Oracle Cloud Infrastructure Email Example <img class="download-img-guides" src="/gcn/resources/img/gcn_modules/download-archive.png" alt="Download completed example" />
        </a>
        </p>
    </div>
    <div id="maven">
        <p><a href="/gcn/docs/gcn-modules/email/archives/oci-email-demo-java-maven.zip">Maven Oracle Cloud Infrastructure Email Example <img class="download-img-guides" src="/gcn/resources/img/gcn_modules/download-archive.png" alt="Download completed example" /></a>
        </p>
    </div>
</div>
    
      <h4 id="a-note-regarding-your-development-environment">
        
        
          A note regarding your development environment
        
        
      </h4>

<p>Consider using Visual Studio Code that provides native support for developing applications with the <a href="/gcn/vscode-tools/using-gcn-vscode-tools/">Graal Cloud Native Tools extension</a>.</p>

<blockquote>
  <p>Note: If you use IntelliJ IDEA, <a href="/gcn/resources/img/annotationprocessorsintellij.png">enable annotation processing</a>.</p>
</blockquote>
    
      <h2 id="1-create-the-application">
        
        
          1. Create the Application <a href="#1-create-the-application" class="anchor_heading">#</a>
        
        
      </h2>

<p>Create an application using the GCN Launcher.</p>

<ol>
  <li>
    <p>Open the <a href="/gcn/launcher/?advanced=true">GCN Launcher in advanced mode</a>.</p>
  </li>
  <li>Create a new project using the following selections.
    <ul>
      <li><strong>Project Type</strong>: <em>Application</em> (Default)</li>
      <li><strong>Project Name</strong>: <em>oci-email-demo</em></li>
      <li><strong>Base Package</strong>: <em>com.example</em> (Default)</li>
      <li><strong>Clouds</strong>: <em>OCI</em></li>
      <li><strong>Language</strong>: <em>Java</em> (Default)</li>
      <li><strong>Build Tool</strong>: <em>Gradle (Groovy)</em> or <em>Maven</em></li>
      <li><strong>Test Framework</strong>: <em>JUnit</em> (Default)</li>
      <li><strong>Java Version</strong>: <em>17</em> (Default)</li>
      <li><strong>Micronaut Version</strong>: (Default)</li>
      <li><strong>Cloud Services</strong>: <em>Email</em></li>
      <li><strong>Features</strong>: <em>GraalVM Native Image</em> (Default)</li>
      <li><strong>Sample Code</strong>: <em>Yes</em> (Default)</li>
    </ul>
  </li>
  <li>Click <strong>Generate Project</strong>. The GCN Launcher creates an application with the default package <code>com.example</code> in a directory named <em>oci-email-demo</em>. The application ZIP file will be downloaded in your default downloads directory. Unzip it, open in your code editor, and proceed to the next steps.</li>
</ol>

<p>Alternatively, use the GCN CLI as follows:</p>

<div id="tabs-doc2">
    <ul>
        <li class="tabs-gradle"><a name="gradle" href="#gradle">Gradle</a></li>
        <li class="tabs-maven"><a name="maven" href="#maven">Maven</a></li>
    </ul>
    <div id="gradle">
        <pre><code class="language-bash">gcn create-app com.example.oci-email-demo \
    --clouds=oci \
    --services=email \
    --features=graalvm \
    --build=gradle \
    --lang=java</code></pre>
    </div>
    <div id="maven">
        <pre><code class="language-bash">gcn create-app com.example.oci-email-demo \
    --clouds=oci \
    --services=email \
    --features=graalvm \
    --build=maven \
    --lang=java</code></pre>
    </div>
</div>

<p>For more information, see <a href="/gcn/get-started/using-gcn-cli/">Using the GCN CLI</a>.</p>
    
      <h3 id="11-review-dependencies">
        
        
          1.1. Review Dependencies <a href="#11-review-dependencies" class="anchor_heading">#</a>
        
        
      </h3>

<p>Your build file contains these dependencies to enable email support. (Only the first is required; if you do not use templates for email you can omit the other two.)</p>

<div id="tabs-doc3">
  <ul>
    <li class="tabs-gradle"><a href="#gradle">Gradle</a></li>
    <li class="tabs-maven"><a href="#maven">Maven</a></li>
  </ul>
  <div id="gradle">
    <p><em>oci/build.gradle</em></p>
    <pre><code class="language-java">implementation("io.micronaut.email:micronaut-email-javamail")
implementation("io.micronaut.email:micronaut-email-template")
implementation("io.micronaut.views:micronaut-views-thymeleaf")</code></pre>
  </div>
  <div id="maven">
    <p><em>oci/pom.xml</em></p>
    <pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;io.micronaut.email&lt;/groupId&gt;
    &lt;artifactId&gt;micronaut-email-javamail&lt;/artifactId&gt;
    &lt;scope&gt;compile&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.micronaut.email&lt;/groupId&gt;
    &lt;artifactId&gt;micronaut-email-template&lt;/artifactId&gt;
    &lt;scope&gt;compile&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.micronaut.views&lt;/groupId&gt;
    &lt;artifactId&gt;micronaut-views-thymeleaf&lt;/artifactId&gt;
    &lt;scope&gt;compile&lt;/scope&gt;
&lt;/dependency&gt;</code></pre>
  </div>
</div>
    
      <h3 id="12-sessionprovider">
        
        
          1.2. SessionProvider <a href="#12-sessionprovider" class="anchor_heading">#</a>
        
        
      </h3>

<p>Micronaut Email requires a bean of type <code>SessionProvider</code> when using JavaMail to create a <code>Session</code>. The launcher created the <code>OciSessionProvider</code> class in a file named <em>oci/src/main/java/com/example/OciSessionProvider.java</em>:</p>

<pre><code class="language-java">package com.example;

import io.micronaut.context.annotation.Property;
import io.micronaut.core.annotation.NonNull;
import io.micronaut.email.javamail.sender.MailPropertiesProvider;
import io.micronaut.email.javamail.sender.SessionProvider;
import jakarta.inject.Singleton;
import jakarta.mail.Authenticator;
import jakarta.mail.PasswordAuthentication;
import jakarta.mail.Session;

import java.util.Properties;

@Singleton // &lt;1&gt;
class OciSessionProvider implements SessionProvider {

    private final Properties properties;
    private final String user;
    private final String password;

    OciSessionProvider(MailPropertiesProvider provider,
                       @Property(name = "smtp.user") String user, // &lt;2&gt;
                       @Property(name = "smtp.password") String password) { // &lt;2&gt;
        this.properties = provider.mailProperties();
        this.user = user;
        this.password = password;
    }

    @Override
    @NonNull
    public Session session() {
        return Session.getInstance(properties, new Authenticator() {
            @Override
            protected PasswordAuthentication getPasswordAuthentication() {
                return new PasswordAuthentication(user, password); // &lt;3&gt;
            }
        });
    }
}
</code></pre>

<p><strong>1</strong> Use <code>jakarta.inject.Singleton</code> to designate a class as a singleton.</p>

<p><strong>2</strong> Annotate a constructor parameter with <a href="https://docs.micronaut.io/latest/api/io/micronaut/context/annotation/Property.html"><code>@Property</code></a> to inject a configuration value.</p>

<p><strong>3</strong> Use the username and password to create the <code>Session</code>.</p>
    
      <h3 id="13-ociemailcontroller">
        
        
          1.3. OciEmailController <a href="#13-ociemailcontroller" class="anchor_heading">#</a>
        
        
      </h3>

<p>The launcher created a controller class that uses the Micronaut <code>EmailSender</code> to send email in a file named <em>oci/src/main/java/com/example/OciEmailController.java</em>:</p>

<pre><code class="language-java">package com.example;

import io.micronaut.email.Attachment;
import io.micronaut.email.Email;
import io.micronaut.email.EmailSender;
import io.micronaut.email.template.TemplateBody;
import io.micronaut.http.annotation.Controller;
import io.micronaut.http.annotation.Post;
import io.micronaut.http.multipart.CompletedFileUpload;
import io.micronaut.scheduling.TaskExecutors;
import io.micronaut.scheduling.annotation.ExecuteOn;
import io.micronaut.views.ModelAndView;

import java.io.IOException;
import java.time.LocalDateTime;

import static io.micronaut.email.BodyType.HTML;
import static io.micronaut.http.MediaType.APPLICATION_OCTET_STREAM_TYPE;
import static io.micronaut.http.MediaType.MULTIPART_FORM_DATA;
import static io.micronaut.http.MediaType.TEXT_PLAIN;
import static java.util.Collections.singletonMap;

@ExecuteOn(TaskExecutors.IO) // &lt;1&gt;
@Controller("/email") // &lt;2&gt;
class OciEmailController {

    private final EmailSender&lt;?, ?&gt; emailSender;

    OciEmailController(EmailSender&lt;?, ?&gt; emailSender) { // &lt;3&gt;
        this.emailSender = emailSender;
    }

    @Post(uri = "/basic", produces = TEXT_PLAIN) // &lt;4&gt;
    String index() {
        emailSender.send(Email.builder()
                .to("basic@gcn.example")
                .subject("Micronaut Email Basic Test: " + LocalDateTime.now())
                .body("Basic email")); // &lt;5&gt;
        return "Email sent.";
    }

    @Post(uri = "/template/{name}", produces = TEXT_PLAIN) // &lt;4&gt;
    String template(String name) {
        emailSender.send(Email.builder()
                .to("template@gcn.example")
                .subject("Micronaut Email Template Test: " + LocalDateTime.now())
                .body(new TemplateBody&lt;&gt;(HTML,
                        new ModelAndView&lt;&gt;("email", singletonMap("name", name))))); // &lt;6&gt;
        return "Email sent.";
    }

    @Post(uri = "/attachment", produces = TEXT_PLAIN, consumes = MULTIPART_FORM_DATA) // &lt;7&gt;
    String attachment(CompletedFileUpload file) throws IOException {
        emailSender.send(Email.builder()
                .to("attachment@gcn.example")
                .subject("Micronaut Email Attachment Test: " + LocalDateTime.now())
                .body("Attachment email")
                .attachment(Attachment.builder()
                        .filename(file.getFilename())
                        .contentType(file.getContentType().orElse(APPLICATION_OCTET_STREAM_TYPE).toString())
                        .content(file.getBytes())
                        .build()
                )); // &lt;8&gt;
        return "Email sent.";
    }
}
</code></pre>

<p><strong>1</strong> It is critical that any blocking I/O operations (such as fetching the data from the database) are offloaded to a separate thread pool that does not block the Event loop.</p>

<p><strong>2</strong> The class is defined as a controller with the <a href="https://docs.micronaut.io/latest/api/io/micronaut/http/annotation/Controller.html"><code>@Controller</code></a> annotation mapped to the path <code>/email</code>.</p>

<p><strong>3</strong> Use constructor injection to inject a bean of type <code>emailSender</code>.</p>

<p><strong>4</strong> By default, a Micronaut response uses <code>application/json</code> as <code>Content-Type</code>. The application returns a String, not a JSON object, so you set it to <code>text/plain</code>.</p>

<p><strong>5</strong> You can send plain-text email.</p>

<p><strong>6</strong> You can send HTML email leveraging Micronaut template for rendering capabilities.</p>

<p><strong>7</strong> A Micronaut controller action consumes <code>application/json</code> by default. Consuming other content types is supported with the <a href="https://docs.micronaut.io/latest/api/io/micronaut/http/annotation/Consumes.html"><code>@Consumes</code></a> annotation or the consumes member of any HTTP method annotation.</p>

<p><strong>8</strong> You can send email with attachments.</p>
    
      <h3 id="14-email-template">
        
        
          1.4. Email template <a href="#14-email-template" class="anchor_heading">#</a>
        
        
      </h3>

<p>The launcher created a Thymeleaf template in <em>oci/src/main/resources/views/email.html</em>:</p>

<pre><code class="language-xml">&lt;!DOCTYPE html&gt;
&lt;html lang="en" xmlns:th="http://www.thymeleaf.org"&gt;
&lt;body&gt;
    &lt;p&gt;
        Hello, &lt;span th:text="${name}"&gt;&lt;/span&gt;!
    &lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
    
      <h3 id="15-emailcontrollertest">
        
        
          1.5. EmailControllerTest <a href="#15-emailcontrollertest" class="anchor_heading">#</a>
        
        
      </h3>

<ol>
  <li>
    <p>The launcher created a test class, <code>EmailControllerTest</code>, to ensure email is sent successfully, in a file named <em>oci/src/test/java/com/example/EmailControllerTest.java</em>.</p>

    <pre><code class="language-java"> package com.example;

 import io.micronaut.email.Attachment;
 import io.micronaut.email.Email;
 import io.micronaut.email.EmailException;
 import io.micronaut.email.TransactionalEmailSender;
 import io.micronaut.http.HttpRequest;
 import io.micronaut.http.HttpResponse;
 import io.micronaut.http.client.HttpClient;
 import io.micronaut.http.client.annotation.Client;
 import io.micronaut.http.client.multipart.MultipartBody;
 import io.micronaut.test.annotation.MockBean;
 import io.micronaut.test.extensions.junit5.annotation.MicronautTest;
 import jakarta.inject.Inject;
 import jakarta.inject.Named;
 import org.junit.jupiter.api.AfterEach;
 import org.junit.jupiter.api.Test;

 import jakarta.mail.Message;
 import java.util.ArrayList;
 import java.util.List;
 import java.util.Optional;
 import java.util.function.Consumer;

 import static io.micronaut.email.BodyType.HTML;
 import static io.micronaut.email.BodyType.TEXT;
 import static io.micronaut.http.HttpStatus.OK;
 import static io.micronaut.http.MediaType.MULTIPART_FORM_DATA_TYPE;
 import static io.micronaut.http.MediaType.TEXT_CSV;
 import static io.micronaut.http.MediaType.TEXT_CSV_TYPE;
 import static io.micronaut.http.MediaType.TEXT_PLAIN_TYPE;
 import static java.nio.charset.StandardCharsets.UTF_8;
 import static org.junit.jupiter.api.Assertions.assertEquals;
 import static org.junit.jupiter.api.Assertions.assertNotNull;
 import static org.junit.jupiter.api.Assertions.assertNull;
 import static org.junit.jupiter.api.Assertions.assertTrue;

 @MicronautTest // &lt;1&gt;
 class EmailControllerTest {

     @Inject
     @Client("/")
     HttpClient client; // &lt;2&gt;

     List&lt;Email&gt; emails = new ArrayList&lt;&gt;();

     @AfterEach
     void cleanup() {
         emails.clear();
     }

     @Test
     void testBasic() {

         HttpResponse&lt;?&gt; response = client.toBlocking().exchange(
                 HttpRequest.POST("/email/basic", null));
         assertEquals(response.status(), OK);

         assertEquals(1, emails.size());
         Email email = emails.get(0);

         assertEquals("xyz@gcn.example", email.getFrom().getEmail());

         assertNull(email.getReplyTo());

         assertNotNull(email.getTo());
         assertEquals(1, email.getTo().size());
         assertEquals("basic@gcn.example", email.getTo().iterator().next().getEmail());
         assertNull(email.getTo().iterator().next().getName());

         assertNull(email.getCc());

         assertNull(email.getBcc());

         assertTrue(email.getSubject().startsWith("Micronaut Email Basic Test: "));

         assertNull(email.getAttachments());

         assertNotNull(email.getBody());
         Optional&lt;String&gt; body = email.getBody().get(TEXT);
         assertEquals("Basic email", body.orElseThrow());
     }

     @Test
     void testTemplate() {

         HttpResponse&lt;?&gt; response = client.toBlocking().exchange(
                 HttpRequest.POST("/email/template/testing", null));
         assertEquals(response.status(), OK);

         assertEquals(1, emails.size());
         Email email = emails.get(0);

         assertEquals("xyz@gcn.example", email.getFrom().getEmail());

         assertNull(email.getReplyTo());

         assertNotNull(email.getTo());
         assertEquals(1, email.getTo().size());
         assertEquals("template@gcn.example", email.getTo().iterator().next().getEmail());
         assertNull(email.getTo().iterator().next().getName());

         assertNull(email.getCc());

         assertNull(email.getBcc());

         assertTrue(email.getSubject().startsWith("Micronaut Email Template Test: "));

         assertNull(email.getAttachments());

         assertNotNull(email.getBody());
         Optional&lt;String&gt; body = email.getBody().get(HTML);
         assertTrue(body.orElseThrow().contains("Hello, &lt;span&gt;testing&lt;/span&gt;!"));
     }

     @Test
     void testAttachment() {

         HttpResponse&lt;?&gt; response = client.toBlocking().exchange(
                 HttpRequest.POST("/email/attachment", MultipartBody.builder()
                         .addPart("file", "test.csv", TEXT_CSV_TYPE, "test,email".getBytes(UTF_8))
                         .build())
                         .contentType(MULTIPART_FORM_DATA_TYPE)
                         .accept(TEXT_PLAIN_TYPE),
                 String.class);
         assertEquals(response.status(), OK);

         assertEquals(1, emails.size());
         Email email = emails.get(0);

         assertEquals("xyz@gcn.example", email.getFrom().getEmail());

         assertNull(email.getReplyTo());

         assertNotNull(email.getTo());
         assertEquals(1, email.getTo().size());
         assertEquals("attachment@gcn.example", email.getTo().iterator().next().getEmail());
         assertNull(email.getTo().iterator().next().getName());

         assertNull(email.getCc());

         assertNull(email.getBcc());

         assertTrue(email.getSubject().startsWith("Micronaut Email Attachment Test: "));

         assertNotNull(email.getAttachments());
         assertEquals(1, email.getAttachments().size());
         Attachment attachment = email.getAttachments().get(0);
         assertEquals("test.csv", attachment.getFilename());
         assertEquals(TEXT_CSV, attachment.getContentType());
         assertEquals("test,email", new String(attachment.getContent()));

         assertNotNull(email.getBody());
         Optional&lt;String&gt; body = email.getBody().get(TEXT);
         assertEquals("Attachment email", body.orElseThrow());
     }

     @MockBean(TransactionalEmailSender.class)
     @Named("mock")
     TransactionalEmailSender&lt;Message, Void&gt; mockSender() {
         return new TransactionalEmailSender&lt;&gt;() {

             @Override
             public String getName() {
                 return "test";
             }

             @Override
             public Void send(Email email, Consumer emailRequest) throws EmailException {
                 emails.add(email);
                 return null;
             }
         };
     }
 }
</code></pre>

    <p><strong>1</strong> Annotate the class with <code>@MicronautTest</code> so the Micronaut framework will initialize the application context and the embedded server.</p>

    <p><strong>2</strong> Inject the <code>HttpClient</code> bean and point it to the embedded server.</p>
  </li>
  <li>
    <p>The launcher created a file named <em>oci/src/test/resources/application-test.properties</em>. This configuration is applied for the test environment only.</p>

    <pre><code>micronaut.email.from.email=xyz@gcn.example
micronaut.email.from.name=Email Test
smtp.password=example-password
smtp.user=gcndemo
javamail.properties.mail.smtp.host=smtp.com
</code></pre>
  </li>
</ol>
    
      <h2 id="2-setup-oracle-cloud-infrastructure-email-delivery">
        
        
          2. Setup Oracle Cloud Infrastructure Email Delivery <a href="#2-setup-oracle-cloud-infrastructure-email-delivery" class="anchor_heading">#</a>
        
        
      </h2>

<p>To configure the email delivery via the Oracle Cloud Infrastructure Email Delivery Service, you need to</p>
<ul>
  <li>create a user</li>
  <li>add an “Approved Sender”</li>
  <li>generate SMTP credentials</li>
  <li>find the SMTP endpoint for your region</li>
</ul>
    
      <h3 id="21-create-a-user-with-permissions-to-send-email">
        
        
          2.1. Create a User with Permissions to Send Email <a href="#21-create-a-user-with-permissions-to-send-email" class="anchor_heading">#</a>
        
        
      </h3>

<p>The approved sender is a regular user with permission to send email via an <a href="https://docs.oracle.com/iaas/Content/Identity/Concepts/overview.htm">IAM policy statement</a>. So you need to add the user to a new group and grant permission to the group to support the approved email senders.</p>

<ol>
  <li>
    <p>Find the <a href="https://docs.oracle.com/iaas/tools/oci-cli/latest/oci_cli_docs/cmdref/iam/compartment/list.html">OCID of the compartment</a> where the IAM policy will be created. Run this command to list the compartments in your root compartment:</p>

    <pre><code class="language-bash"> oci iam compartment list
</code></pre>

    <p>Find the compartment by the name or description in the JSON output. It should look like this <code>"compartment-id": "ocid1.tenancy.oc1..aaaaaaaaud4g4e5ovjaw..."</code>.</p>
  </li>
  <li>
    <p>Save the compartment <code>id</code> as an environment variable:</p>

    <pre><code class="language-bash"> export C=ocid1.compartment.oc1..aaaaaaaarkh3s2wcxbbm...
</code></pre>

    <details>
     <summary>The export command syntax varies per platform. Expand to learn more.</summary>
     <p>If you use Linux/macOS, the <code>export</code> command is:</p>
         <pre><code class="language-bash">set VARNAME=&lt;VALUE&gt;</code></pre>

     <p>If you use Windows, change <code>export</code> to <code>set</code> if using the <code>cmd</code> prompt:</p>
         <pre><code class="language-bash">set VARNAME=&lt;VALUE&gt;</code></pre>

     <p>If you use PowerShell, change <code>export</code> to <code>$</code> and use quotes around the value, for example:</p>
     <pre><code class="language-bash">$VARNAME="&lt;VALUE&gt;"</code></pre>

     <p>To dereference a value in Linux/macOS or Powershell, use <code>$</code>, for example:
     <code>/some/command -option=$VARNAME</code>
     </p>
     <p>If you use <code>cmd</code>, use <code>%</code> before and after the name, for example: <code>/some/command -option=%VARNAME%</code>
     </p>
 </details>
    <p><br /></p>
  </li>
  <li>
    <p><a href="https://docs.oracle.com/iaas/tools/oci-cli/latest/oci_cli_docs/cmdref/iam/group/create.html">Create a new user group</a> by running the following command:</p>

    <pre><code class="language-bash"> oci iam group create --description "email sender group" --name "gcn-email-group" --compartment-id $C
</code></pre>

    <p>The response should look like this:</p>

    <pre><code class="language-json"> {
   "data": {
     "compartment-id": "ocid1.tenancy.oc1..aaaaaaaaud4g4e5ovjaw...",
     "defined-tags": {
       "Oracle-Recommended-Tags": {
         "ResourceType": "demo"
       }
     },
     "description": "email sender group",
     "freeform-tags": {},
     "id": "ocid1.group.oc1..aaaaaaaaqx...",
     "inactive-status": null,
     "lifecycle-state": "ACTIVE",
     "name": "gcn-email-group",
     ...
   }
 }
</code></pre>
  </li>
  <li>
    <p>Save the group <code>id</code> as an environment variable:</p>

    <pre><code class="language-bash"> export GRP_ID=ocid1.group.oc1..aaaaaaaaqx...
</code></pre>
  </li>
  <li>
    <p><a href="https://docs.oracle.com/iaas/tools/oci-cli/latest/oci_cli_docs/cmdref/iam/user/create.html">Create a new user</a> by running the following command:</p>

    <pre><code class="language-bash"> oci iam user create --description "email sender" --name "gcn-email-user" --compartment-id $C 
</code></pre>

    <blockquote>
      <p>Note: If your tenancy supports identity domains, you must provide an email for the user via the <code>--email</code> option. For more information, see <a href="https://docs.oracle.com/iaas/tools/oci-cli/latest/oci_cli_docs/cmdref/iam/user/create.html#optional-parameters">Optional Parameters</a>.</p>
    </blockquote>

    <p>The response should look like this:</p>

    <pre><code class="language-json"> {
   "data": {
     "compartment-id": "ocid1.tenancy.oc1..aaaaaaaaud4g4e5ovjaw...",
     "description": "email sender",
     "id": "ocid1.user.oc1..aaaaaaaaqx...",
     "lifecycle-state": "ACTIVE",
     "name": "gcn-email-user",
     ...
   }
 }
</code></pre>
  </li>
  <li>
    <p>Save the user <code>id</code> as an environment variable:</p>

    <pre><code class="language-bash"> export USR_ID=ocid1.user.oc1..aaaaaaaaqx...
</code></pre>
  </li>
  <li>
    <p><a href="https://docs.oracle.com/iaas/tools/oci-cli/latest/oci_cli_docs/cmdref/iam/group/add-user.html">Add the user to the group</a> you have just created by running:</p>

    <pre><code class="language-bash"> oci iam group add-user --group-id $GRP_ID --user-id $USR_ID
</code></pre>
  </li>
  <li>
    <p><a href="https://docs.oracle.com/iaas/tools/oci-cli/latest/oci_cli_docs/cmdref/iam/policy/create.html">Create an IAM policy</a> to grant members of the group permission to send email.</p>

    <p>On Linux or macOS, run:</p>

    <pre><code class="language-bash"> oci iam policy create -c $C --description "gcn-email-guide-policy" \
     --name "gcn-email-guide-policy" \
     --statements '["Allow group gcn-email-group to use email-family in compartment id ocid1.compartment.oc1..aaaaaaaarkh3s2wcxbbm..."]'
</code></pre>
    <p>On Windows, run:</p>

    <pre><code class="language-shell"> oci iam policy create -c %C% --description "gcn-email-guide-policy" \
     --name "gcn-email-guide-policy" \
     --statements "[\"Allow group gcn-email-group to use email-family in compartment id %C%\"]"
</code></pre>
  </li>
</ol>
    
      <h3 id="22-generate-smtp-credentials">
        
        
          2.2. Generate SMTP Credentials <a href="#22-generate-smtp-credentials" class="anchor_heading">#</a>
        
        
      </h3>

<p><a href="https://docs.oracle.com/iaas/Content/Email/Tasks/generatesmtpcredentials.htm">Generate SMTP credentials</a> for the user by running:</p>

<pre><code class="language-bash">oci iam smtp-credential create --description "gcn-email-user smtp credentials" --user-id $USR_ID
</code></pre>

<p>The response should look like this:</p>

<pre><code class="language-json">{
  "data": {
    "description": "gcn-email-user smtp credentials",
    "id": "ocid1.credential.oc1..aaaaaaaal...",
    "lifecycle-state": "ACTIVE",
    "password": "nB$O;.......",
    "user-id": "ocid1.user.oc1..aaaaaaaaqx...",
    "username": "ocid1.user.oc1..aaaaaaaaqx...@ocid1.tenancy.oc1..aaaaaaaa....me.com"
  }
}
</code></pre>

<p>Save the <code>username</code> and <code>password</code> from the response. You will need those later.</p>
    
      <h3 id="23-add-an-approved-sender">
        
        
          2.3. Add an Approved Sender <a href="#23-add-an-approved-sender" class="anchor_heading">#</a>
        
        
      </h3>

<p><a href="https://docs.oracle.com/iaas/tools/oci-cli/latest/oci_cli_docs/cmdref/email/sender/create.html">Create an email sender</a> by running:</p>

<pre><code class="language-bash">oci email sender create -c $C --email-address gcn@gcn.example
</code></pre>

<p>Where <code>email-address</code> is the <strong>from</strong> address.</p>
    
      <h3 id="24-find-the-smtp-endpoint">
        
        
          2.4. Find the SMTP Endpoint <a href="#24-find-the-smtp-endpoint" class="anchor_heading">#</a>
        
        
      </h3>

<p>Each region in Oracle Cloud Infrastructure has an SMTP endpoint to use as the SMTP server address. <a href="https://docs.oracle.com/iaas/Content/Email/Tasks/configuresmtpconnection.htm">Find the endpoint</a> for your region and save the URL, for example, <code>smtp.email.us-ashburn-1.oci.oraclecloud.com</code>. You will need that for the next step.</p>
    
      <h3 id="25-set-configuration-variables">
        
        
          2.5. Set Configuration Variables <a href="#25-set-configuration-variables" class="anchor_heading">#</a>
        
        
      </h3>

<p>Avoid hard-coding credentials and other sensitive information directly in config files. By using placeholder variables in <em>oci/src/main/resources/application-oraclecloud.properties</em> such as <code>SMTP_PASSWORD</code> and <code>SMTP_USER</code>, you can externalize the values via secure storage such as <a href="https://docs.oracle.com/iaas/Content/KeyManagement/Concepts/keyoverview.htm">Oracle Cloud Infrastructure Vault</a>.</p>

<p>Alternatively, you can use environment variables. Set the “from” email to the value you used earlier, and choose a “from” name. Set the SMTP username and password from the values you saved earlier when you generated the SMTP credentials, and set the SMTP server as the regional endpoint:</p>

<pre><code class="language-bash">export FROM_EMAIL=gcn@gcn.example
export FROM_NAME=gcn
export SMTP_PASSWORD="nB$O;......."
export SMTP_USER="ocid1.user.oc1..aaaaaaaaqx...@ocid1.tenancy.oc1..aaaaaaaa....me.com"
export SMTP_HOST=smtp.email.us-ashburn-1.oci.oraclecloud.com
</code></pre>
    
      <h4 id="251-configure-from-address">
        
        
          2.5.1. Configure “From” Address
        
        
      </h4>

<p>If you always use the same Sender you can add the following configuration snippet to <em>oci/src/main/resources/application-oraclecloud.properties</em>:</p>

<pre><code># &lt;1&gt;
micronaut.email.from.email=${FROM_EMAIL\:''}
# &lt;2&gt;
micronaut.email.from.name=${FROM_NAME\:''}
</code></pre>

<p><strong>1</strong> Sender’s email.</p>

<p><strong>2</strong> Sender’s name.</p>
    
      <h4 id="252-configure-smtp">
        
        
          2.5.2. Configure SMTP
        
        
      </h4>

<p>Instead of using an environment variable, you can add the following snippet to <em>oci/src/main/resources/application-oraclecloud.properties</em> to supply the SMTP credentials.</p>

<pre><code># &lt;1&gt;
smtp.password=${SMTP_PASSWORD\:''}
# &lt;2&gt;
smtp.user=${SMTP_USER\:''}
</code></pre>

<p><strong>1</strong> the SMTP password.</p>

<p><strong>2</strong> the SMTP username.</p>

<p>The SMTP configuration is injected via constructor parameters annotated with <code>@Property</code>. You could have used a POJO annotated with <a href="https://docs.micronaut.io/latest/api/io/micronaut/context/annotation/ConfigurationProperties.html">@ConfigurationProperties</a> as well.</p>
    
      <h4 id="253-configure-java-mail-properties">
        
        
          2.5.3. Configure Java Mail Properties
        
        
      </h4>

<p>Instead of using an environment variable, you can add the following snippet to <em>oci/src/main/resources/application-oraclecloud.properties</em> to supply JavaMail properties:</p>

<pre><code>javamail.properties.mail.smtp.auth=true
# &lt;1&gt;
javamail.properties.mail.smtp.host=${SMTP_HOST\:''}
javamail.properties.mail.smtp.port=587
javamail.properties.mail.smtp.starttls.enable=true
</code></pre>

<p><strong>1</strong> the SMTP server.</p>
    
      <h2 id="3-run-the-test">
        
        
          3. Run the Test <a href="#3-run-the-test" class="anchor_heading">#</a>
        
        
      </h2>

<p>Use the following command to run the test.</p>

<div id="tabs-doc4">
    <ul>
        <li class="tabs-gradle"><a name="gradle" href="#gradle">Gradle</a></li>
        <li class="tabs-maven"><a name="maven" href="#maven">Maven</a></li>
    </ul>
    <div id="gradle">
        <pre><code class="language-bash">./gradlew :oci:test</code></pre>
        <p>Then open the file _build/reports/tests/test/index.html_ in a browser to view the results.</p>
    </div>
    <div id="maven">
        <pre><code class="language-bash">./mvnw install -pl lib -am &amp;&amp; ./mvnw test -pl oci</code></pre>
    </div>
</div>
    
      <h2 id="4-run-the-application">
        
        
          4. Run the Application <a href="#4-run-the-application" class="anchor_heading">#</a>
        
        
      </h2>

<p>To run the application, use the following command, which starts the application on port 8080.</p>

<div id="tabs-doc5">
    <ul>
        <li class="tabs-gradle"><a name="gradle" href="#gradle">Gradle</a></li>
        <li class="tabs-maven"><a name="maven" href="#maven">Maven</a></li>
    </ul>
    <div id="gradle">
        <pre><code class="language-bash">./gradlew :oci:run</code></pre>
    </div>
    <div id="maven">
        <pre><code class="language-bash">./mvnw install -pl lib -am &amp;&amp; ./mvnw mn:run -pl oci</code></pre>
    </div>
</div>
    
      <h2 id="5-test-the-application">
        
        
          5. Test the Application <a href="#5-test-the-application" class="anchor_heading">#</a>
        
        
      </h2>

<p>Test the application by accessing the REST endpoints of the application.</p>

<ol>
  <li>
    <p>Send a simple plain-text email:</p>

    <pre><code class="language-bash">curl -X POST localhost:8080/email/basic
</code></pre>
  </li>
  <li>
    <p>Send a templated email:</p>

    <pre><code class="language-bash">curl -X POST localhost:8080/email/template/test
</code></pre>
  </li>
  <li>
    <p>Send an email with an attachment.</p>

    <p>If you use Linux or macOS, run the command:</p>

    <pre><code class="language-bash">curl -X POST \
 -H "Content-Type: multipart/form-data" \
 -F "file=@ /Users/test/Pictures/demo/email.jpg" \
 localhost:8080/email/attachment
</code></pre>

    <p>If you use Windows, run the command:</p>

    <pre><code class="language-shell">curl -X POST \
 -H "Content-Type: multipart/form-data" \
 -F "file=@C:\Users\username\Downloads\email.png" \
 localhost:8080/email/attachment
</code></pre>
  </li>
</ol>
    
      <h2 id="6-generate-a-native-executable-using-graalvm">
        
        
          6. Generate a Native Executable Using GraalVM <a href="#6-generate-a-native-executable-using-graalvm" class="anchor_heading">#</a>
        
        
      </h2>

<p>GCN supports compiling a Java application ahead-of-time into a native executable using <a href="https://www.graalvm.org/native-image/">GraalVM Native Image</a>. You can use the <em><a href="https://graalvm.github.io/native-build-tools/latest/gradle-plugin.html">Gradle plugin for GraalVM Native Image building</a>/<a href="https://graalvm.github.io/native-build-tools/latest/maven-plugin.html">Maven  plugin for GraalVM Native Image building</a></em>. Packaged as a native executable, it significantly reduces application startup time and memory footprint.</p>

<p>To generate a native executable, run the following command:</p>

<div id="tabs-doc6">
  <ul>
    <li class="tabs-gradle"><a name="gradle" href="#gradle">Gradle</a></li>
    <li class="tabs-maven"><a name="maven" href="#maven">Maven</a></li>
  </ul>
  <div id="gradle">
    <pre><code class="language-bash">./gradlew :oci:nativeCompile</code></pre>
    <p>The native executable is created in the <em>oci/build/native/nativeCompile</em> directory and can be run with the following command:</p>
    <pre><code class="language-bash">oci/build/native/nativeCompile/oci</code></pre>
  </div>
  <div id="maven">
    <pre><code class="language-bash">./mvnw install -pl lib -am &amp;&amp; ./mvnw package -pl oci -Dpackaging=native-image</code></pre>
    <p>The native executable is created in the <em>oci/target</em> directory and can be run with the following command:</p>
    <pre><code class="language-bash">oci/target/oci</code></pre>
  </div>
</div>
    
      <h2 id="7-run-and-test-the-native-executable">
        
        
          7. Run and Test the Native Executable <a href="#7-run-and-test-the-native-executable" class="anchor_heading">#</a>
        
        
      </h2>

<p>Run the native executable, and then perform the same tests as in step <strong>5</strong>.</p>
    
      <h3 id="summary">
        
        
          Summary <a href="#summary" class="anchor_heading">#</a>
        
        
      </h3>

<p>This guide demonstrated how to use GCN to create an application that sends email via the <a href="https://docs.oracle.com/iaas/Content/Email/Concepts/overview.htm">Oracle Cloud Infrastructure Email Delivery Service</a> and the Micronaut Email module. Then you saw how to generate a native executable with Gradle and GraalVM Native Image for faster startup and lower memory footprint.</p>
    
      <h3 id="related-documentation">
        
        
          Related Documentation <a href="#related-documentation" class="anchor_heading">#</a>
        
        
      </h3>

<ul>
  <li><a href="https://luna.oracle.com/lab/0bd1b93f-3af4-414f-b08e-e2ff91770288">Oracle Cloud Infrastructure Email, Micronaut, GraalVM Native Image</a></li>
  <li><a href="https://docs.oracle.com/iaas/Content/Email/Concepts/overview.htm">Oracle Cloud Infrastructure Email Delivery Service</a></li>
  <li><a href="https://micronaut-projects.github.io/micronaut-email/latest/guide/">Micronaut Email</a></li>
  <li><a href="https://recursive.codes/blog/post/2128">Sending Email With Oracle Cloud Infrastructure Email Delivery From Micronaut</a></li>
</ul>

      </div>

      <div role="button" class="menu-btn menu-btn--sidebar js-show-sidebar" title="sweet hamburger">
        <div class="hamburger">
          <div class="inner"></div>
        </div>
      </div>
    </div>
  </div>
</article>



</div>

      </main>

      
<footer class="footer footer__mobile">

  <div class="container-fluid container-fluid--custom-sm">
    <div class="row">
      <div class="col-12 col-sm-12 col-md-12 col-lg-12">
        <div class="row footer-content">
          <div class="col-md-3 col-sm-4">
            <h6 class="title-footer" onclick="fadeInAndOut(this)">Learn</h6>
            <div class="grow">
              <ul class="footer-list">
                <li class="footer-list__item"><a href="/gcn/get-started/">Get Started</a></li>
                <li class="footer-list__item"><a href="/gcn/guides/">Guides</a></li>
                <li class="footer-list__item"><a href="/gcn/hands-on-labs/">Labs</a></li>
                <li class="footer-list__github">
                  <img class="footer__icon" src="/gcn/resources/img/footer/logo-github.svg" alt="Github icon">
                  <a href="https://github.com/oracle/gcn">Github</a>
                </li>
              </ul>
            </div>
          </div>
          <div class="col-md-3 col-sm-4">
            <h6 class="title-footer" onclick="fadeInAndOut(this)">About</h6>
            <div class="grow">
              <ul class="footer-list">
                <li class="footer-list__item"><a href="/gcn/about/#gcn-support" target="blank">Commercial Support</a></li>
                <li class="footer-list__item"><a href="https://www.graalvm.org/" target="blank">GraalVM Native Image</a></li>
                <li class="footer-list__item"><a href="https://micronaut.io/" target="_blank">Micronaut</a></li>
                <li class="footer-list__item"><a href="https://www.oracle.com/cloud/multicloud/what-is-multicloud/" target="_blank">Multicloud</a></li>
                <li class="footer-list__item"><a href="https://www.oracle.com/cloud/" target="blank">Oracle Cloud Infrastructure</a></li>
                <li class="footer-list__item"><a href="https://marketplace.visualstudio.com/items?itemName=oracle-labs-graalvm.graal-cloud-native-pack" target="blank">VS Code Tools</a></li>
              </ul>
            </div>
          </div>
          <div class="col-md-6 col-sm-12 aligning_1024">
            <div class="card--footer card--hovered box">
              <div>
                <div class="rubber-footer footer__oci-section">
                  <p class="title-footer quickstart">Build, test, and deploy applications on Oracle Cloud Infrastructure for free</p>
                  <a href="https://www.oracle.com/cloud/free/" target="_blank"
                    class="btn btn-primary">Try Oracle Cloud Infrastructure Free Tier</a>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-12 col-sm-12 col-md-12 col-lg-12">
          <div class="row">
            <div class="col-sm-12">
              <p class="copyright">
                Copyright © 2023, Oracle and/or its affiliates. All rights reserved. Oracle and Java are
                registered trademarks. Other names may be trademarks of their respective owners.
              </p>
              <div id="teconsent"></div>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</footer>

<script>
  function fadeInAndOut(thz) {
    var elmt = thz.nextElementSibling;//Get the element that is below the button that
    //was just clicked
    if (elmt.clientHeight) {
      elmt.style.height = 0;
    } else {
      var wrapper = elmt.querySelector('ul');
      elmt.style.height = wrapper.clientHeight + "px";
    }
    /*
        elmt.classList.toggle("acordianPanelHidden");//Toggle the class which changes
        //attributes which triggers the transition CSS
        */
  }

  // Check TRUSTe Consent for Functional or Implied Approval
  // The if test verifies if the user has given the consent
  if ( (oracle.truste.api.getGdprConsentDecision().consentDecision) &&
      (oracle.truste.api.getGdprConsentDecision().consentDecision.indexOf(0) != -1 ||
        oracle.truste.api.getGdprConsentDecision().consentDecision.indexOf(2) != -1) ) {

      //The following is a sample of a Maxymiser Tag being written to the DOM
      //If the user did not give consent, then the tag is not included and not invoked in the Browser
      document.write('<script type="text/javascript" src="//service.maxymiser.net/cdn/oracle/js/mmcore.js"><\/script>');
  }

  // Check TRUSTe Consent for Advertising or Implied Approval
  // The if test verifies if the user has given the consent
  if ( (oracle.truste.api.getGdprConsentDecision().consentDecision) &&
      (oracle.truste.api.getGdprConsentDecision().consentDecision.indexOf(0) != -1 ||
        oracle.truste.api.getGdprConsentDecision().consentDecision.indexOf(3) != -1) ) {

      //The following is a sample of a BlueKai Core Tag being written to the DOM
      //If the user did not give consent, then the tag is not included and not invoked in the Browser
      document.write('<script type="text/javascript">' +
      'window.bk_async = function() { ' +
      'BKTAG.doTag(62581, 1); }; ' +
      '(function() { ' +
      'var scripts = document.getElementsByTagName(\'script\')[0]; ' +
      'var s = document.createElement(\'script\'); ' +
      's.async = true; ' +
      's.src = "https://tags.bkrtx.com/js/bk-coretag.js"; ' +
      'scripts.parentNode.insertBefore(s, scripts); ' +
      '}()); ' +
      '<\/script>');
  }
</script>

    </div>
    <div class="overlay"></div>

    <!-- Start SiteCatalyst code -->
    <script language="JavaScript" src="https://www.oracle.com/us/assets/metrics/ora_otn.js"></script>
    <!-- End SiteCatalyst code -->

    <script src='/gcn/resources/lib/slick-slider/slick.min.js'></script>
    <script src='/gcn/resources/js/main.js'></script>
    <script src='/gcn/resources/js/ui.js'></script>
    <script src='/gcn/resources/js/filters.js'></script>
    <script src='/gcn/resources/js/sidebar.js'></script>
  </body>
</html>
