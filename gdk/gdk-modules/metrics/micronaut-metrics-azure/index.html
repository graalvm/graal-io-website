<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:image" content="/gdk/resources/img/graalvm.png" />
  <meta name="twitter:widgets:border-color" content="#55acee">

  <title>
    
      Create a Micronaut Application to Collect Metrics and Monitor Them on Azure Monitor Metrics
    
  </title>
  <meta name="description" content="The Graal Development Kit for Micronaut (GDK) is a build of a curated set of Micronaut framework modules and their required libraries for building portable c..."/>
  <meta name="last_modified" content="2024-10-02 07:38:27 +0000"/>
  <meta name="last_built" content="2024-12-02 15:15:17 +0000"/>
  <link rel="stylesheet" href="/gdk/assets/main.css">
  <link rel="apple-touch-icon" sizes="180x180" href="/gdk/resources/img/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/gdk/resources/img/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/gdk/resources/img/favicon/favicon-16x16.png">
  <link rel="manifest" href="/gdk/resources/img/favicon/site.webmanifest">
  <link rel="stylesheet" type="text/css" href="/gdk/resources/styles/codicon.css" />
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <meta name="google-site-verification" content="-vRqwa9WYn6AaQGnl88xvrLw6ac4xoKVkZkhanmlRhU" />
  <link rel="canonical" href="https://www.graal.cloud/gdk/gdk-modules/metrics/micronaut-metrics-azure/">

  <!-- jQuery UI Tabs -->
  <link rel="stylesheet" href="//code.jquery.com/ui/1.14.0/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="/gdk/resources/lib/jquery/jquery-ui.css">
</head>

      <script src="/gdk/resources/lib/jquery/jquery-3.7.1.min.js"></script>
    <script src="/gdk/resources/lib/bootstrap/js/bootstrap.min.js"></script>
    <script src='/gdk/resources/lib/sticky-sidebar/resizeSensor.js'></script>
    <script src='/gdk/resources/lib/sticky-sidebar/sticky-sidebar.min.js'></script>
    <script src="/gdk/resources/lib/highlight/highlight.min.js"></script>
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <!-- Add TRUSTe Consent Script and Analytics -->
    <script async="async" type="text/javascript" src='//consent.trustarc.com/notice?domain=oracle.com&c=teconsent&js=bb&noticeType=bb&text=true&cdn=1&pcookie&gtm=1' crossorigin></script>
    <script src="https://www.oracle.com/assets/truste-oraclelib.js"></script>
    <!-- jQuery UI Tabs -->
    <script src="https://code.jquery.com/ui/1.14.0/jquery-ui.js"></script>


  <body class="preload">
    <!-- Start SiteCatalyst code -->
    <script language="JavaScript" src="https://www.oracle.com/us/assets/metrics/ora_otn.js"></script>
    <!-- End SiteCatalyst code -->

    <div  class="wrapper wrapper--nofooter" >

      <header  class="header header--content" 
  role="banner">

  

  

    <nav class="menu">
      <div class="menu__row">
        <div>
          <a href="/gdk/">
            <img class="logo-mobile" src="/gdk/resources/img/gdk-logo-new.svg" alt="Graal Development Kit for Micronaut logo">
          </a>
        </div>
        <div class="menu__container">
          <ul class="menu__list">
            <li class="menu__item">
              <a href="/gdk/about/" class="menu__link">About</a>
            </li>
            <li class="menu__item">
              <a href="/gdk/get-started/" class="menu__link">Get Started</a>
            </li>
            <li class="menu__item">
              <div class="stack-container">
                <a href="#" class="menu__link stack__header">Docs</a>
                <div class="stack-menu-learn">
                  <div class="stack-row">
                    <div class="stack-column">
                      <div class="stack__item">
                        <img src='/gdk/resources/img/header-navigation/modules.svg'>
                        <a href="/gdk/modules/" class="item-line">Modules</a>
                      </div>
                      <div class="stack__item">
                        <img src='/gdk/resources/img/header-navigation/guides.svg'>
                        <a href="/gdk/guides/" class="item-line">Guides</a>
                      </div>
                      <div class="stack__item">
                        <img src='/gdk/resources/img/header-navigation/labs.svg'>
                        <a href="/gdk/hands-on-labs/" class="item-line">Hands-On Labs</a>
                      </div>
                      <div class="stack__item">
                        <img src='/gdk/resources/img/header-navigation/tools.svg'>
                        <a href="/gdk/vscode-tools/" class="item-line">Tools</a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </li>
            <li class="menu__item">
              <div class="stack-container">
                <a href="#" class="menu__link stack__header">Graal Projects</a>
                <div class="stack-menu">
                  <div class="stack-row">
                    <div class="stack-column">
                      <div class="stack__item">
                        <img src='/gdk/resources/img/header-navigation/graalstack.svg'>
                        <a href="https://graal.cloud/" class="item-line">Graal</a>
                      </div>
                      <div class="stack__item">
                        <img src='/gdk/resources/img/header-navigation/graalvm.svg'>
                        <a href="https://graalvm.org/" class="item-line">GraalVM</a>
                      </div>
                      <div class="stack__item">
                        <img src='/gdk/resources/img/header-navigation/graalos.svg'>
                        <a href="https://graal.cloud/graalos/" class="item-line">GraalOS</a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </li>
            <li class="menu__launch__mobile">
              <a href="/gdk/launcher/" class="btn-launch btn btn-primary" target="blank">Create App</a>
            </li>
          </ul>
        </div>
        <div class="menu__launch">
          <a href="/gdk/launcher/" class="btn-launch btn btn-primary" target="blank">Create App</a>
        </div>
      </div>

      <div role="button" class="menu-btn menu-btn--menu js-show-menu" tabindex="-1" title="sweet hamburger">
        <div class="hamburger">
          <div class="inner"></div>
        </div>
      </div>
      <button aria-label="hamburger mobile menu" class="btn btn-mobile-menu js-show-menu">
        <div class="inner"></div>
      </button>
    </nav>

  
</header>


      <main  class="content"   aria-label="Content">
        <div class="wrapper wrapper-content">
  <article>
  <div class="row d-flex flex-wrap">
    <div class="col-sm-3 docsimpro col-bg">
      <div class="sidebar-wrap">
        <div class="sidebar">
          <div class="menuabout">
            <img id="sidebarClose" src="/gdk/resources/img/arrow_sidebar(close).svg" alt="Expand or collapse sidebar"
              class="btn-color no-display">
            <img id="sidebarOpen" src="/gdk/resources/img/arrow_sidebar.svg" alt="Expand or collapse sidebar">
          </div>
          
<div class="toc-floating">


<div class="toc-bullets">


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    

    
      
        
          <li class="toc-bullets-main">
        
          
          <a href="/gdk/docs/gdk-modules/metrics/" class="_icon-book">
            Metrics
          </a>
        </li>

        
        

        
        
          
          <li class="toc-bullets-sub toc-bullets-highlight">
          
            
            <a href="/gdk/gdk-modules/metrics/micronaut-metrics-azure/">
              Create a Micronaut Application to Collect Metrics and Monitor Them on Azure Monitor Metrics
            </a>
          </li>

          
            <div>
  <script>
    var scriptElement = document.currentScript;
    var div = $(scriptElement.parentElement);
    $(window).on("load", function () {
      $("#content-wrapper h2").each(function () {
        var li = $("<li></li>", { class: "toc-bullets-sub toc-bullets-sub-3" });
        var a = $("<a></a>", { href: "#" + $(this).attr("id") });
        a.text($(this).text().replace('#', ''));
        li.append(a);
        li.click(function (e) {
          e.preventDefault();
          var target = $(a.attr('href'));
          var scrollTo = target.offset().top - 80; // 80 - indent
          $('html, body').animate({ scrollTop: scrollTo }, 1000);
        });
        div.append(li);
      });
    });
  </script>
</div>
          
        
      
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

<!-- <li class="search additional-search">
  <form class="form-inline sidebar" action="/docs/search" autocomplete="on" method="get">
    <input class="input-search sidebar" type="text" id="search-box" name="query" placeholder="Search">
    <button type="submit sidebar" class="search-button"></button>
  </form>
</li> -->

</div>
  <!-- Search form -->
  <!-- <form class="search-container" action="/docs/search" autocomplete="on" method="get">
   <label for="search-box">Search</label>
    <input type="text" id="search-box" name="query">
    <button type="submit" class="searchbttn"></button>
  </form> -->
</div>

        </div>
      </div>
    </div>

    <div class="col-sm-9 docsmod">
      <div id="content-wrapper" class="docs-content docs-content--with-sidebar">
        <!--
          Include file to warn of Windows/Gradle restriction
        -->
        <h1 id="create-a-micronaut-application-to-collect-metrics-and-monitor-them-on-azure-monitor-metrics">
        
        
          Create a Micronaut Application to Collect Metrics and Monitor Them on Azure Monitor Metrics
        
        
      </h1>

<p>This guide describes how to use the Graal Development Kit for Micronaut (GDK) to create a Micronaut<sup>®</sup> application that collects standard and custom metrics, then publishes and monitors them on <a href="https://learn.microsoft.com/azure/azure-monitor/essentials/data-platform-metrics">Azure Monitor Metrics</a>.</p>

<p>The application stores book information in memory and provides endpoints to query books.
The application collects metrics for the whole application and measures total computation time for a particular endpoint.
The application uses <a href="https://micronaut-projects.github.io/micronaut-micrometer/latest/guide/" target="_blank">Micronaut Micrometer</a> to expose application metric data with <a href="https://micrometer.io/" target="_blank">Micrometer</a>.</p>
    
      <h3 id="prerequisites">
        
        
          Prerequisites <a href="#prerequisites" class="anchor_heading">#</a>
        
        
      </h3>

<ul>
  <li>JDK 17 or higher. See <a href="/gdk/get-started/setting-up-desktop/">Setting up Your Desktop</a>.</li>
  <li>An Azure account. See <a href="/gdk/get-started/setting-up-cloud-accounts/">Setting up Your Cloud Accounts</a>.</li>
  <li>The Azure CLI. Follow the <a href="https://learn.microsoft.com/en-us/cli/azure/install-azure-cli">Azure documentation</a> for installing or updating the latest version of the Azure CLI.</li>
  <li>The GDK CLI. See <a href="/gdk/get-started/setting-up-desktop/">Setting up Your Desktop</a>. (Optional.)</li>
</ul>

<p>Follow the steps below to create the application from scratch. However, you can also download the completed example:</p>

<div id="tabs-doc1">
  <ul>
    <li class="tabs-gradle"><a name="gradle" href="#gradle">Gradle</a></li>
    <li class="tabs-maven"><a name="maven" href="#maven">Maven</a></li>
  </ul>
  <div id="gradle">
    <p><a href="https://github.com/oracle/graal-dev-kit/releases/download/4.6.0.3/4.6.0.3_metrics_azure-metrics-demo-java-gradle.zip">Gradle Azure Metrics Example <img class="download-img-guides" src="/gdk/resources/img/gdk_modules/download-archive.png" alt="Download completed example" /></a>
    </p>
  </div>
  <div id="maven">
    <p><a href="https://github.com/oracle/graal-dev-kit/releases/download/4.6.0.3/4.6.0.3_metrics_azure-metrics-demo-java-maven.zip">Maven Azure Metrics Example <img class="download-img-guides" src="/gdk/resources/img/gdk_modules/download-archive.png" alt="Download completed example" /></a>
    </p>
  </div>
</div>
    
      <h4 id="a-note-regarding-your-development-environment">
        
        
          A note regarding your development environment
        
        
      </h4>

<p>Consider using Visual Studio Code, which provides native support for developing applications with the <a href="/gdk/vscode-tools/using-gdk-vscode-tools/">Graal Development Kit extension</a>.</p>

<blockquote>
  <p>Note: If you use IntelliJ IDEA, <a href="/gdk/resources/img/annotationprocessorsintellij.png">enable annotation processing</a>.</p>
</blockquote>

<blockquote>
  <p>Windows platform: The GDK guides are compatible with Gradle only. Maven support is coming soon.</p>
</blockquote>
    
      <h2 id="1-create-the-application">
        
        
          1. Create the Application <a href="#1-create-the-application" class="anchor_heading">#</a>
        
        
      </h2>

<p>Create an application using the GDK Launcher.</p>

<ol>
  <li>
    <p>Open the <a href="/gdk/launcher/?advanced=true">GDK Launcher in advanced mode</a>.</p>
  </li>
  <li>Create a new project using the following selections.
    <ul>
      <li><strong>Project Type</strong>: <em>Application</em> (Default)</li>
      <li><strong>Project Name</strong>: <em>azure-metrics-demo</em></li>
      <li><strong>Base Package</strong>: <em>com.example</em> (Default)</li>
      <li><strong>Clouds</strong>: <em>Azure</em></li>
      <li><strong>Build Tool</strong>: <em>Gradle (Groovy)</em> or <em>Maven</em></li>
      <li><strong>Language</strong>: <em>Java</em> (Default)</li>
      <li><strong>Test Framework</strong>: <em>JUnit</em> (Default)</li>
      <li><strong>Java Version</strong>: <em>17</em> (Default)</li>
      <li><strong>Micronaut Version</strong>: (Default)</li>
      <li><strong>Cloud Services</strong>: <em>Metrics</em></li>
      <li><strong>Features</strong>: <em>GraalVM Native Image</em>, and <em>Micrometer Annotation</em></li>
      <li><strong>Sample Code</strong>: <em>No</em></li>
    </ul>
  </li>
  <li>Click <strong>Generate Project</strong>, then click <strong>Download Zip</strong>. The GDK Launcher creates a Java project with the default package <code>com.example</code> in a directory named <em>azure-metrics-demo</em>. The application ZIP file will be downloaded to your default downloads directory. Unzip it, open it in your code editor, and proceed to the next steps.</li>
</ol>

<p>Alternatively, use the GDK CLI as follows:</p>

<div id="tabs-doc2">
  <ul>
    <li class="tabs-gradle"><a href="#gradle">Gradle</a></li>
    <li class="tabs-maven"><a href="#maven">Maven</a></li>
  </ul>
  <div id="gradle">
    <pre><code class="language-bash">gdk create-app com.example.azure-metrics-demo \
    --clouds=azure \
    --services=metrics \
    --features=graalvm,micrometer-annotation \
    --build=gradle \
    --jdk=17 \
    --lang=java \
    --example-code=false</code></pre>
  </div>
  <div id="maven">
    <pre><code class="language-bash">gdk create-app com.example.azure-metrics-demo \
    --clouds=azure \
    --services=metrics \
    --features=graalvm,micrometer-annotation \
    --build=maven \
    --jdk=17 \
    --lang=java \
    --example-code=false</code></pre>
  </div>
</div>

<p>For more information, see <a href="/gdk/get-started/using-gdk-cli/">Using the GDK CLI</a>.</p>

<p>The GDK Launcher creates a multi-module project with two subprojects: <strong>azure</strong>, and <strong>lib</strong>. The common application logic is in the <strong>lib</strong> subproject, and the <strong>azure</strong> subproject contain logic specific to the Azure platform.
When creating the application with the GDK, the necessary features such as the <a href="https://logback.qos.ch/" target="_blank">Logback framework</a>, <a href="https://micronaut-projects.github.io/micronaut-micrometer/latest/guide/" target="_blank">Micronaut Micrometer</a>, and others were added for you. These features will be used in the guide.</p>
    
      <h3 id="11-configure-metrics-collection">
        
        
          1.1. Configure Metrics Collection <a href="#11-configure-metrics-collection" class="anchor_heading">#</a>
        
        
      </h3>

<p>The project generated by the GDK Launcher has <a href="https://micrometer.io/" target="_blank">Micrometer</a> as a dependency.</p>

<blockquote>
  <p>Micrometer provides a simple facade over the instrumentation clients for a number of popular monitoring systems.</p>
</blockquote>

<p>To configure Micrometer, the Launcher added the following properties to the application configuration file, <em>azure/src/main/resources/application.properties</em>:</p>

<pre><code>micronaut.metrics.enabled=true
micronaut.metrics.binders.files.enabled=true
micronaut.metrics.binders.jdbc.enabled=true
micronaut.metrics.binders.jvm.enabled=true
micronaut.metrics.binders.logback.enabled=true
micronaut.metrics.binders.processor.enabled=true
micronaut.metrics.binders.uptime.enabled=true
micronaut.metrics.binders.web.enabled=true
</code></pre>

<p>Several groups of metrics are enabled by default: these include system metrics (such as JVM information and uptime), as well as metrics tracking web requests, datasources activity, and others. Overall metrics can be enabled or disabled, and groups can be individually enabled or disabled in this configuration file. In this case all metrics are enabled. To disable, change to <code>false</code>, for example, per-environment.</p>
    
      <h3 id="12-book-domain-class">
        
        
          1.2. Book Domain Class <a href="#12-book-domain-class" class="anchor_heading">#</a>
        
        
      </h3>

<p>Create a <code>Book</code> domain class in a file named <em>lib/src/main/java/com/example/Book.java</em>, as follows:</p>

<pre><code class="language-java">package com.example;

import io.micronaut.core.annotation.Creator;
import io.micronaut.serde.annotation.Serdeable;

import java.util.Objects;

@Serdeable
public class Book {

    private final String isbn;
    private final String name;

    @Creator
    public Book(String isbn, String name) {
        this.isbn = isbn;
        this.name = name;
    }

    public String getIsbn() {
        return isbn;
    }

    public String getName() {
        return name;
    }

    @Override
    public String toString() {
        return "Book{" +
                "isbn='" + isbn + '\'' +
                ", name='" + name + '\'' +
                '}';
    }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        Book other = (Book) o;
        return Objects.equals(isbn, other.isbn) &amp;&amp;
                Objects.equals(name, other.name);
    }

    @Override
    public int hashCode() {
        return Objects.hash(isbn, name);
    }
}
</code></pre>
    
      <h3 id="13-bookservice">
        
        
          1.3. BookService <a href="#13-bookservice" class="anchor_heading">#</a>
        
        
      </h3>

<p>To keep this guide simple there is no database persistence: the <em>Books</em> microservice keeps the list of books in memory. Create a class named <code>BookService</code> in <em>lib/src/main/java/com/example/BookService.java</em> with the following contents:</p>

<pre><code class="language-java">package com.example;

import jakarta.annotation.PostConstruct;
import jakarta.inject.Singleton;
import java.util.ArrayList;
import java.util.List;
import java.util.Optional;

@Singleton
public class BookService {

    private final List&lt;Book&gt; bookStore = new ArrayList&lt;&gt;();

    @PostConstruct
    void init() {
        bookStore.add(new Book("9781491950357", "Building Microservices"));
        bookStore.add(new Book("9781680502398", "Release It!"));
        bookStore.add(new Book("9780321601919", "Continuous Delivery"));
        bookStore.add(new Book("9781617294549", "Microservices Patterns"));
    }

    public List&lt;Book&gt; findAll() {
        return bookStore;
    }

    public Optional&lt;Book&gt; findByIsbn(String isbn) {
        return bookStore.stream()
                .filter(b -&gt; b.getIsbn().equals(isbn))
                .findFirst();
    }
}
</code></pre>
    
      <h3 id="14-bookcontroller">
        
        
          1.4. BookController <a href="#14-bookcontroller" class="anchor_heading">#</a>
        
        
      </h3>

<p>Create a controller to access <code>Book</code> instances (and to trigger the metric data) in a file named <em>lib/src/main/java/com/example/BookController.java</em> with the following contents:</p>

<pre><code class="language-java">package com.example;

import io.micronaut.http.annotation.Controller;
import io.micronaut.http.annotation.Get;
import io.micrometer.core.annotation.Timed;
import io.micrometer.core.annotation.Counted;

import java.util.Optional;

@Controller("/books") // &lt;1&gt;
class BookController {

    private final BookService bookService;

    BookController(BookService bookService) { // &lt;2&gt;
        this.bookService = bookService;
    }

    @Get // &lt;3&gt;
    @Timed("books.index") // &lt;4&gt;
    Iterable&lt;Book&gt; index() {
        return bookService.findAll();
    }

    @Get("/{isbn}") // &lt;5&gt;
    @Counted("books.find") // &lt;6&gt;
    Optional&lt;Book&gt; findBook(String isbn) {
        return bookService.findByIsbn(isbn);
    }
}
</code></pre>

<p><strong>1</strong> The class is defined as a controller with the <a href="https://docs.micronaut.io/latest/api/io/micronaut/http/annotation/Controller.html"><code>@Controller</code></a> annotation mapped to the path <code>/books</code>.</p>

<p><strong>2</strong> Use constructor injection to inject a bean of type <code>BookService</code>.</p>

<p><strong>3</strong> The <a href="https://docs.micronaut.io/latest/api/io/micronaut/http/annotation/Get.html"><code>@Get</code></a> annotation maps the <code>findAll</code> method to an HTTP GET request on <code>/books</code>.</p>

<p><strong>4</strong> Use a Micrometer <a href="https://micrometer.io/docs/concepts#_the_timed_annotation"><code>@Timed</code></a> annotation, with the value “books.index”, to create a timer metric.</p>

<p><strong>5</strong> The <a href="https://docs.micronaut.io/latest/api/io/micronaut/http/annotation/Get.html"><code>@Get</code></a> annotation maps the <code>findBook</code> method to an HTTP GET request on <code>/books/{isbn}</code>.</p>

<p><strong>6</strong> Use a Micrometer <code>@Counted</code> annotation, with the value “books.find”, to create a counter metric.</p>
    
      <h2 id="2-create-tests">
        
        
          2. Create Tests <a href="#2-create-tests" class="anchor_heading">#</a>
        
        
      </h2>

<ol>
  <li>
    <p>For tests to run correctly, edit the test configuration file named <em>azure/src/test/resources/application-test.properties</em> so that it contains the following:</p>

    <pre><code> customMetrics.initialDelay=1h
 micronaut.metrics.enabled=true
 micronaut.metrics.export.azuremonitor.enabled=false
</code></pre>
  </li>
  <li>
    <p>Create a test class, named <code>BookControllerMetricsTest</code>, to verify metrics functionality in a file named <em>azure/src/test/java/com/example/BookControllerMetricsTest.java</em> with the following contents:</p>

    <pre><code class="language-java"> package com.example;

 import io.micrometer.core.instrument.Counter;
 import io.micrometer.core.instrument.MeterRegistry;
 import io.micrometer.core.instrument.Tags;
 import io.micrometer.core.instrument.Timer;
 import io.micronaut.core.type.Argument;
 import io.micronaut.http.HttpRequest;
 import io.micronaut.http.client.HttpClient;
 import io.micronaut.http.client.annotation.Client;
 import io.micronaut.logging.LoggingSystem;
 import io.micronaut.test.extensions.junit5.annotation.MicronautTest;
 import jakarta.inject.Inject;
 import org.junit.jupiter.api.Test;
 import org.slf4j.Logger;
 import org.slf4j.LoggerFactory;

 import java.util.List;
 import java.util.Map;
 import java.util.Set;
 import java.util.stream.Collectors;
 import java.util.concurrent.TimeUnit;

 import static io.micronaut.logging.LogLevel.ALL;
 import static org.junit.jupiter.api.Assertions.assertEquals;
 import static org.junit.jupiter.api.Assertions.assertFalse;
 import static org.junit.jupiter.api.Assertions.assertTrue;

 @MicronautTest
 class BookControllerMetricsTest {

     @Inject
     MeterRegistry meterRegistry;

     @Inject
     LoggingSystem loggingSystem;

     @Inject
     @Client("/")
     HttpClient httpClient;

     @Test
     void testExpectedMeters() {

         Set&lt;String&gt; names = meterRegistry.getMeters().stream()
                 .map(meter -&gt; meter.getId().getName())
                 .collect(Collectors.toSet());

         // check that a subset of expected meters exist
         assertTrue(names.contains("jvm.memory.max"));
         assertTrue(names.contains("process.uptime"));
         assertTrue(names.contains("system.cpu.usage"));
         assertTrue(names.contains("logback.events"));

         // these will be lazily created
         assertFalse(names.contains("http.client.requests"));
         assertFalse(names.contains("http.server.requests"));
     }

     @Test
     void testHttp() {

         Timer timer = meterRegistry.timer("http.server.requests", Tags.of(
                 "exception", "none",
                 "method", "GET",
                 "status", "200",
                 "uri", "/books"));
         assertEquals(0, timer.count());

         Timer bookIndexTimer = meterRegistry.timer("books.index",
                 Tags.of("exception", "none"));
         assertEquals(0, bookIndexTimer.count());

         httpClient.toBlocking().retrieve(
                 HttpRequest.GET("/books"),
                 Argument.listOf(Book.class));

         assertEquals(1, timer.count());
         assertEquals(1, bookIndexTimer.count());
         assertTrue(0.0 &lt; bookIndexTimer.totalTime(TimeUnit.MILLISECONDS));
         assertTrue(0.0 &lt; bookIndexTimer.max(TimeUnit.MILLISECONDS));

         Counter bookFindCounter = meterRegistry.counter("books.find",
                 Tags.of("result", "success",
                         "exception", "none"));
         assertEquals(0, bookFindCounter.count());

         httpClient.toBlocking().retrieve(
                 HttpRequest.GET("/books/9781491950357"),
                 Argument.of(Book.class));

         assertEquals(1, bookFindCounter.count());
     }

     @Test
     void testLogback() {

         Counter counter = meterRegistry.counter("logback.events", Tags.of("level", "info"));
         double initial = counter.count();

         Logger logger = LoggerFactory.getLogger("testing.testing");
         loggingSystem.setLogLevel("testing.testing", ALL);

         logger.trace("trace");
         logger.debug("debug");
         logger.info("info");
         logger.warn("warn");
         logger.error("error");

         assertEquals(initial + 1, counter.count(), 0.000001);
     }

     @Test
     void testMetricsEndpoint() {

         Map&lt;String, Object&gt; response = httpClient.toBlocking().retrieve(
                 HttpRequest.GET("/metrics"),
                 Argument.mapOf(String.class, Object.class));

         assertTrue(response.containsKey("names"));
         assertTrue(response.get("names") instanceof List);

         List&lt;String&gt; names = (List&lt;String&gt;) response.get("names");

         // check that a subset of expected meters exist
         assertTrue(names.contains("jvm.memory.max"));
         assertTrue(names.contains("process.uptime"));
         assertTrue(names.contains("system.cpu.usage"));
         assertTrue(names.contains("logback.events"));
     }

     @Test
     void testOneMetricEndpoint() {

         Map&lt;String, Object&gt; response = httpClient.toBlocking().retrieve(
                 HttpRequest.GET("/metrics/jvm.memory.used"),
                 Argument.mapOf(String.class, Object.class));

         String name = (String) response.get("name");
         assertEquals("jvm.memory.used", name);

         List&lt;Map&lt;String, Object&gt;&gt; measurements = (List&lt;Map&lt;String, Object&gt;&gt;) response.get("measurements");
         assertEquals(1, measurements.size());

         double value = (double) measurements.get(0).get("value");
         assertTrue(value &gt; 0);
     }
 }
</code></pre>

    <p>The tests verify that certain metrics are present, including the ones that you enabled in the application configuration file, and the ones that you collected thanks to the <code>@Counter</code> and <code>@Timer</code> annotations.</p>

    <p>Note that, since the <code>@MicronautTest</code> annotation is used, Micronaut initializes the application context and the embedded server with the endpoints you created earlier. (For more information, see the <a href="https://micronaut-projects.github.io/micronaut-test/latest/guide/" target="_blank">Micronaut Test documentation</a>.)</p>
  </li>
</ol>
    
      <h2 id="3-create-custom-metrics">
        
        
          3. Create Custom Metrics <a href="#3-create-custom-metrics" class="anchor_heading">#</a>
        
        
      </h2>

<ol>
  <li>
    <p>Create a service that retrieves information from the <em>BookService</em> and publishes custom metrics based on it. The custom metrics provide the number of books about microservices. Create the custom metrics service in a file named <em>lib/src/main/java/com/example/MicroserviceBooksNumberService.java</em> with the following contents:</p>

    <pre><code class="language-java"> package com.example;

 import io.micrometer.core.instrument.Counter;
 import io.micrometer.core.instrument.MeterRegistry;
 import io.micrometer.core.instrument.Timer;
 import io.micronaut.scheduling.annotation.Scheduled;
 import jakarta.inject.Singleton;
 import org.slf4j.Logger;
 import org.slf4j.LoggerFactory;

 import java.util.concurrent.atomic.AtomicInteger;
 import java.util.stream.StreamSupport;

 @Singleton
 public class MicroserviceBooksNumberService {

     private final Logger log = LoggerFactory.getLogger(getClass().getName());

     private final BookService bookService;
     private final Counter checks;
     private final Timer time;
     private final AtomicInteger microserviceBooksNumber = new AtomicInteger(0);

     private static final String SEARCH_KEY = "microservice";

     MicroserviceBooksNumberService(BookService bookService,
                                    MeterRegistry meterRegistry) { // &lt;1&gt;
         this.bookService = bookService;
         checks = meterRegistry.counter("microserviceBooksNumber.checks");
         time = meterRegistry.timer("microserviceBooksNumber.time");
         meterRegistry.gauge("microserviceBooksNumber.latest", microserviceBooksNumber);
     }

     @Scheduled(fixedRate = "${customMetrics.updateFrequency:1h}",
                initialDelay = "${customMetrics.initialDelay:0s}") // &lt;2&gt;
     public void updateNumber() {
         time.record(() -&gt; {
             try {
                 Iterable&lt;Book&gt; allBooks = bookService.findAll();
                 long booksNumber = StreamSupport.stream(allBooks.spliterator(), false)
                         .filter(b -&gt; b.getName().toLowerCase().contains(SEARCH_KEY))
                         .count();

                 checks.increment();
                 microserviceBooksNumber.set((int) booksNumber);
             } catch (Exception e) {
                 log.error("Problem setting the number of microservice books", e);
             }
         });
     }
 }
</code></pre>

    <p><strong>1</strong> The code registers custom meters, queries the <em>BookService</em>, counts books containing <code>microservice</code> in the name and updates the <code>microserviceBooksNumber.latest</code> meter with the value. <code>microserviceBooksNumber.checks</code> stores the number of updates performed, and <code>microserviceBooksNumber.time</code> stores the total time spent on the updates for the metric.</p>

    <p><strong>2</strong> The metric update is scheduled. The <code>customMetrics.updateFrequency</code> parameter corresponds to the update rate and has the default value of one hour. The <code>customMetrics.initialDelay</code> parameter corresponds to a delay after application startup before metrics calculation and has a default value of zero seconds.</p>
  </li>
  <li>
    <p>Create a test for the custom metrics in a class named <code>MicroserviceBooksNumberTest</code>. Create a new file named <em>azure/src/test/java/com/example/MicroserviceBooksNumberTest.java</em> with the following contents:</p>

    <pre><code class="language-java"> package com.example;

 import io.micrometer.core.instrument.Counter;
 import io.micrometer.core.instrument.Gauge;
 import io.micrometer.core.instrument.MeterRegistry;
 import io.micrometer.core.instrument.Timer;
 import io.micronaut.test.extensions.junit5.annotation.MicronautTest;
 import jakarta.inject.Inject;
 import org.junit.jupiter.api.Test;

 import static java.util.concurrent.TimeUnit.MILLISECONDS;
 import static org.junit.jupiter.api.Assertions.assertEquals;
 import static org.junit.jupiter.api.Assertions.assertTrue;

 @MicronautTest
 class MicroserviceBooksNumberTest {

     @Inject
     MeterRegistry meterRegistry;

     @Inject
     MicroserviceBooksNumberService service;

     @Test
     void testMicroserviceBooksNumberUpdates() {
         Counter counter = meterRegistry.counter("microserviceBooksNumber.checks");
         Timer timer = meterRegistry.timer("microserviceBooksNumber.time");
         Gauge gauge = meterRegistry.get("microserviceBooksNumber.latest").gauge();

         assertEquals(0.0, counter.count());
         assertEquals(0.0, timer.totalTime(MILLISECONDS));
         assertEquals(0.0, gauge.value());

         int checks = 3;
         for (int i = 0; i &lt; checks; i++) { // &lt;1&gt;
             service.updateNumber();
         }

         assertEquals((double) checks, counter.count());
         assertTrue(timer.totalTime(MILLISECONDS) &gt; 0);
         assertEquals(2.0, gauge.value());
     }
 }
</code></pre>

    <p><strong>1</strong> The test calls the service three times and verifies that the metrics are collected correctly. Because the <em>BookService</em> added two books with titles containing the word “microservices”, the value of <code>microserviceBooksNumber.latest</code> is <code>2.0</code>.</p>

    <p>To make sure that the test works as expected and only three updates of the metric are performed, change the test configuration (in the file <em>azure/src/test/resources/application-test.properties</em>) so that it does not perform scheduled updates for the custom metric. To achieve this, change the <code>customMetrics.initialDelay</code> parameter to a large value, such as <code>10</code> hours. For example:</p>

    <pre><code> customMetrics.initialDelay=10h
</code></pre>
  </li>
</ol>
    
      <h2 id="4-run-the-tests">
        
        
          4. Run the Tests <a href="#4-run-the-tests" class="anchor_heading">#</a>
        
        
      </h2>

<p>To run the tests, use the following command:</p>

<div id="tabs-doc3">
    <ul>
        <li class="tabs-gradle"><a name="gradle" href="#gradle">Gradle</a></li>
        <li class="tabs-maven"><a name="maven" href="#maven">Maven</a></li>
    </ul>
    <div id="gradle">
        <pre><code class="language-bash">./gradlew :azure:test</code></pre>
        <p>Then open the file <em>azure/build/reports/tests/test/index.html</em> in a browser to view the results.</p>
    </div>
    <div id="maven">
        <pre><code class="language-bash">./mvnw install -pl lib -am &amp;&amp; ./mvnw test -pl azure</code></pre>
    </div>
</div>

<p>The tests could be run locally without any cloud credentials, as metrics are not exported to the cloud.</p>
    
      <h2 id="5-set-up-azure-resources">
        
        
          5. Set up Azure Resources <a href="#5-set-up-azure-resources" class="anchor_heading">#</a>
        
        
      </h2>
    
      <h3 id="51-create-a-resource-group">
        
        
          5.1. Create a Resource Group <a href="#51-create-a-resource-group" class="anchor_heading">#</a>
        
        
      </h3>

<p>We recommend that you create a new <a href="https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/overview#resource-groups">resource group</a> for this guide, but you can use an existing resource group instead.</p>

<p>Run the <a href="https://learn.microsoft.com/en-us/cli/azure/group?view=azure-cli-latest#az-group-create">az group create</a> command to create a resource group named <em>gdkguides</em> in the <em>eastus</em> region:</p>

<pre><code class="language-bash">az group create --location eastus --name gdkguides
</code></pre>

<p>If you prefer using the region geographically closer to you, run <code>az account list-locations</code> to list all available regions.</p>
    
      <h3 id="52-register-microsoftoperationalinsights-as-a-resource-provider">
        
        
          5.2. Register Microsoft.OperationalInsights as a Resource Provider <a href="#52-register-microsoftoperationalinsights-as-a-resource-provider" class="anchor_heading">#</a>
        
        
      </h3>

<p>Run the <a href="https://learn.microsoft.com/en-us/cli/azure/provider?view=azure-cli-latest#az-provider-register">az provider register</a> command to register <em>Microsoft.OperationalInsights</em> as a Resource Provider:</p>

<pre><code class="language-bash">az provider register --namespace 'Microsoft.OperationalInsights'
</code></pre>

<p>This will take a while to execute. Check the status with</p>

<pre><code class="language-bash">az provider show --namespace Microsoft.OperationalInsights
</code></pre>

<p>Once the <code>"registrationState": "Registering"</code>  changes to <code>"registrationState": "Registered"</code>, the registration is complete.</p>
    
      <h3 id="53-create-a-log-analytics-workspace">
        
        
          5.3. Create a Log Analytics Workspace <a href="#53-create-a-log-analytics-workspace" class="anchor_heading">#</a>
        
        
      </h3>

<p>Run the <a href="https://learn.microsoft.com/en-us/cli/azure/monitor/log-analytics/workspace?view=azure-cli-latest#az-monitor-log-analytics-workspace-create">az monitor log-analytics workspace create</a> command to create a log analytics workspace:</p>

<pre><code class="language-bash">az monitor log-analytics workspace create \
   --workspace-name gdkworkspace \
   --resource-group gdkguides
</code></pre>
    
      <h3 id="54-add-the-application-insights-cli-extension">
        
        
          5.4. Add the application-insights CLI Extension <a href="#54-add-the-application-insights-cli-extension" class="anchor_heading">#</a>
        
        
      </h3>

<p>Run the <a href="https://learn.microsoft.com/en-us/cli/azure/extension?view=azure-cli-latest#az-extension-add">az extension add</a> command to add the <em>application-insights</em> CLI Extension:</p>

<pre><code class="language-bash">az extension add --name application-insights
</code></pre>
    
      <h3 id="55-create-an-application-insights-resource">
        
        
          5.5. Create an Application Insights Resource <a href="#55-create-an-application-insights-resource" class="anchor_heading">#</a>
        
        
      </h3>

<p>Run the <a href="https://learn.microsoft.com/en-us/cli/azure/monitor/app-insights/component?view=azure-cli-latest#az-monitor-app-insights-component-create">az monitor app-insights component create</a> command to create an Application Insights resource:</p>

<pre><code class="language-bash">az monitor app-insights component create \
   --app gdkapp \
   --location eastus \
   --resource-group gdkguides \
   --workspace gdkworkspace
</code></pre>

<p>The response should look like this:</p>
<pre><code class="language-json">{
  "appId": "e0cc1a...",
  "applicationId": "gdkapp",
  "applicationType": "web",
  ...
  "ingestionMode": "LogAnalytics",
  "instrumentationKey": "46b7c...",
  "kind": "web",
  "laMigrationDate": null,
  "location": "eastus",
  "name": "gdkapp",
  "namePropertiesName": "gdkapp",
  "privateLinkScopedResources": null,
  "provisioningState": "Succeeded",
  "publicNetworkAccessForIngestion": "Enabled",
  "publicNetworkAccessForQuery": "Enabled",
  "requestSource": "rest",
  ...
}
</code></pre>

<p>Save the value of the <em>instrumentationKey</em> attribute from the response, you’ll need it in the next step.</p>
    
      <h3 id="56-configure-the-instrumentation-key">
        
        
          5.6. Configure the Instrumentation Key <a href="#56-configure-the-instrumentation-key" class="anchor_heading">#</a>
        
        
      </h3>

<p>Edit the file <em>azure/src/main/resources/application.properties</em> so that it includes the following:</p>

<pre><code>micronaut.metrics.enabled=true
micronaut.metrics.export.azuremonitor.enabled=true
micronaut.metrics.export.azuremonitor.instrumentationKey=46b7c...
</code></pre>

<p>For the <em>micronaut.metrics.export.azuremonitor.instrumentationKey</em> property, use the <em>instrumentationKey</em> attribute that you saved in the previous step.</p>
    
      <h2 id="6-run-the-application">
        
        
          6. Run the Application <a href="#6-run-the-application" class="anchor_heading">#</a>
        
        
      </h2>

<ol>
  <li>
    <p>To run the application, use the following command, which starts the application on port 8080.</p>

    <div id="tabs-doc5">
     <ul>
         <li class="tabs-gradle"><a name="gradle" href="#gradle">Gradle</a></li>
         <li class="tabs-maven"><a name="maven" href="#maven">Maven</a></li>
     </ul>
     <div id="gradle">
         <pre><code class="language-bash">./gradlew :azure:run</code></pre>
         <p>Alternatively, to cause the custom metric update to occur more frequently (to see the effects on metrics), start the application with a configuration override to update every five seconds, as follows:</p>
         <pre><code class="language-bash">./gradlew :azure:run --args="-customMetrics.updateFrequency=5s"</code></pre>
     </div>
     <div id="maven">
         <pre><code class="language-bash">./mvnw install -pl lib -am
./mvnw mn:run -pl azure</code></pre>
         <p>Alternatively, to cause the custom metric update to occur more frequently (to see the effects on metrics), start the application with a configuration override to update every five seconds, as follows:</p>
         <pre><code class="language-bash">./mvnw install -pl lib -am
./mvnw mn:run -pl azure -Dmn.appArgs="-customMetrics.updateFrequency=5s"</code></pre>
     </div>
 </div>
  </li>
  <li>
    <p>Send a few test requests with <code>curl</code>, as follows:</p>

    <ul>
      <li>Get all the books:
        <pre><code class="language-bash">curl localhost:8080/books
</code></pre>
        <pre><code class="language-json">[
  {
    "isbn": "9781491950357",
    "name": "Building Microservices"
  },
  {
    "isbn": "9781680502398",
    "name": "Release It!"
  },
  {
    "isbn": "9780321601919",
    "name": "Continuous Delivery"
  },
  {
    "isbn": "9781617294549",
    "name": "Microservices Patterns"
  }
]
</code></pre>
      </li>
      <li>Get the value of the metric that you created on the <code>books</code> endpoint:
        <pre><code class="language-bash">curl localhost:8080/metrics/books.index
</code></pre>
        <pre><code class="language-json">{
  "name": "books.index",
  "measurements": [
    {
      "statistic": "COUNT",
      "value": 0
    },
    {
      "statistic": "TOTAL_TIME",
      "value": 0
    },
    {
      "statistic": "MAX",
      "value": 0.765111
    }
  ]
  ...
</code></pre>
      </li>
      <li>Get the value of the custom metric calculating the number of books with <code>microservice</code> in their title:
        <pre><code class="language-bash">curl localhost:8080/metrics/microserviceBooksNumber.latest
</code></pre>
        <pre><code class="language-json">{
  "name": "microserviceBooksNumber.latest",
  "measurements": [
    {
      "statistic": "VALUE",
      "value": 2
    }
  ]
}
</code></pre>
      </li>
    </ul>
  </li>
</ol>
    
      <h2 id="7-monitor-metrics-in-azure-application-insights">
        
        
          7. Monitor Metrics in Azure Application Insights <a href="#7-monitor-metrics-in-azure-application-insights" class="anchor_heading">#</a>
        
        
      </h2>

<p>Use the <a href="https://portal.azure.com/#view/Microsoft_Azure_Monitoring/AzureMonitoringBrowseBlade/~/applicationsInsights" target="_blank">Azure Application Insights UI</a> to view the collected metrics.</p>

<ol>
  <li>
    <p>In the Azure Application Insights UI, click <strong>gdkapp</strong> under <strong>Applications</strong> to select the application you created.</p>

    <p><img src="/gdk/docs/gdk-modules/metrics/img/azure1.png" alt="Azure gdkapp" /></p>
  </li>
  <li>
    <p>Then go to <strong>Monitoring</strong> &gt; <strong>Metrics</strong>.</p>

    <p><img src="/gdk/docs/gdk-modules/metrics/img/azure2.png" alt="Azure gdkapp Metrics" /></p>
  </li>
  <li>
    <p>In the Metrics dialog, specify <em>gdkapp</em> as the Scope value and change Metric Namespace to <em>azure.applicationinsights</em>, then select a metric you want to observe, for example, <code>microserviceBooksNumber_checks</code>:</p>

    <p><img src="/gdk/docs/gdk-modules/metrics/img/azure3.png" alt="Azure Metrics Browse" /></p>
  </li>
</ol>
    
      <h2 id="8-generate-a-native-executable-using-graalvm">
        
        
          8. Generate a Native Executable using GraalVM <a href="#8-generate-a-native-executable-using-graalvm" class="anchor_heading">#</a>
        
        
      </h2>

<p>The GDK supports compiling Java applications ahead-of-time into native executables using <a href="https://www.graalvm.org/" target="_blank">GraalVM Native Image</a>.
You can use the <em><a href="https://graalvm.github.io/native-build-tools/latest/gradle-plugin.html" target="_blank">Gradle plugin for GraalVM Native Image building</a></em>/<em><a href="https://graalvm.github.io/native-build-tools/latest/maven-plugin.html" target="_blank">Maven plugin for GraalVM Native Image building</a></em>.
Packaged as a native executable, it significantly reduces application startup time and memory footprint.</p>

<blockquote>
  <p><strong>Prerequisites</strong>: Make sure you have installed a GraalVM JDK. The easiest way to get started is with <a href="https://sdkman.io/jdks#graal">SDKMAN!</a>. For other installation options, visit the <a href="https://www.graalvm.org/downloads/">Downloads section</a>.</p>
</blockquote>

<p>To generate a native executable, run the following command:</p>

<div id="tabs-doc6">
  <ul>
      <li class="tabs-gradle"><a href="#gradle">Gradle</a></li>
      <li class="tabs-maven"><a href="#maven">Maven</a></li>
  </ul>
  <div id="gradle">
      <pre><code class="language-bash">./gradlew :azure:nativeCompile</code></pre>
      <p>The native executable is created in the <em>azure/build/native/nativeCompile/</em> directory and can be run with the following command:</p>
    <pre><code class="language-bash">azure/build/native/nativeCompile/azure-metrics-demo-azure</code></pre>
  </div>
  <div id="maven">
      <pre><code class="language-bash">./mvnw install -pl lib -am
./mvnw clean package -pl azure -Dpackaging=native-image -DskipTests</code></pre>
      <p>The native executable is created in the <em>azure/target/</em> directory and can be run with the following command:</p>
    <pre><code class="language-bash">azure/target/azure-metrics-demo-azure</code></pre>
  </div>
</div>
    
      <h2 id="9-run-and-test-the-native-executable">
        
        
          9. Run and Test the Native Executable <a href="#9-run-and-test-the-native-executable" class="anchor_heading">#</a>
        
        
      </h2>

<p>Start the generated native executable:</p>
<div id="tabs-doc7">
  <ul>
    <li class="tabs-gradle"><a name="gradle" href="#gradle">Gradle</a></li>
    <li class="tabs-maven"><a name="maven" href="#maven">Maven</a></li>
  </ul>
  <div id="gradle">
    <pre><code class="language-bash">azure/build/native/nativeCompile/azure-metrics-demo-azure</code></pre>
  </div>
  <div id="maven">
    <pre><code class="language-bash">azure/target/azure-metrics-demo-azure</code></pre>
  </div>
</div>

<p>Run the same <code>curl</code> commands from above to confirm that the application works the same way as before, but with faster startup and response times.</p>

<p>Then return to the Azure Console to review the metrics.</p>
    
      <h2 id="10-clean-up-cloud-resources">
        
        
          10. Clean up Cloud Resources <a href="#10-clean-up-cloud-resources" class="anchor_heading">#</a>
        
        
      </h2>

<p>Once you are done with this guide, you can delete the Azure resources created to avoid incurring unnecessary charges.</p>

<p>Delete the resource group and all of its resources with:</p>
<pre><code class="language-bash">az group delete --name gdkguides
</code></pre>

<p>Alternatively, run these commands to delete resources individually:</p>

<pre><code class="language-bash">az monitor app-insights component delete --app gdkapp --resource-group gdkguides
</code></pre>

<pre><code class="language-bash">az monitor log-analytics workspace delete --workspace-name gdkworkspace --resource-group gdkguides
</code></pre>

<pre><code class="language-bash">az group delete --name gdkguides
</code></pre>
    
      <h3 id="summary">
        
        
          Summary <a href="#summary" class="anchor_heading">#</a>
        
        
      </h3>

<p>This guide demonstrated how to create a Micronaut application that collects standard and custom metrics, then publishes and monitors them on Azure Monitor Metrics. The application uses <a href="https://micronaut-projects.github.io/micronaut-micrometer/latest/guide/">Micronaut Micrometer</a> to expose application metric data with <a href="https://micrometer.io/">Micrometer</a>.</p>
    
      <h3 id="related-documentation">
        
        
          Related Documentation <a href="#related-documentation" class="anchor_heading">#</a>
        
        
      </h3>

<ul>
  <li><a href="https://micronaut-projects.github.io/micronaut-micrometer/latest/guide/" target="_blank">Micronaut Micrometer documentation</a></li>
  <li><a href="https://micronaut-projects.github.io/micronaut-azure/latest/guide/" target="_blank">Micronaut Azure</a></li>
  <li><a href="https://learn.microsoft.com/azure/azure-monitor/essentials/data-platform-metrics" target="_blank">Azure Monitor Metrics</a></li>
  <li><a href="https://www.graalvm.org/" target="_blank">GraalVM Native Image</a></li>
</ul>

      </div>

      <div role="button" class="menu-btn menu-btn--sidebar js-show-sidebar" title="sweet hamburger">
        <div class="hamburger">
          <div class="inner"></div>
        </div>
      </div>
    </div>
  </div>
</article>



</div>

      </main>

      
<footer class="footer footer__mobile">

  <div class="container-fluid container-fluid--custom-sm">
    <div class="row">
      <div class="col-12 col-sm-12 col-md-12 col-lg-12">
        <div class="row footer-content">
          <div class="col-md-3 col-sm-4">
            <h6 class="title-footer" onclick="fadeInAndOut(this)">Learn</h6>
            <div class="grow">
              <ul class="footer-list">
                <li class="footer-list__item"><a href="/gdk/get-started/">Get Started</a></li>
                <li class="footer-list__item"><a href="/gdk/guides/">Guides</a></li>
                <li class="footer-list__item"><a href="/gdk/hands-on-labs/">Labs</a></li>
                <li class="footer-list__github">
                  <img class="footer__icon" src="/gdk/resources/img/footer/logo-github.svg" alt="Github icon">
                  <a href="https://github.com/oracle/graal-dev-kit" target="blank">Github</a>
                </li>
                <li class="footer-list__github">
                  <img class="footer__icon" src="/gdk/resources/img/footer/slack-icon.svg" alt="Github icon">
                  <a href="https://bit.ly/odevrel_slack" target="blank">#graal-dev-kit-for-micronaut</a>
                </li>
              </ul>
            </div>
          </div>
          <div class="col-md-3 col-sm-4">
            <h6 class="title-footer" onclick="fadeInAndOut(this)">About</h6>
            <div class="grow">
              <ul class="footer-list">
                <li class="footer-list__item"><a href="/gdk/about/#gdk-support" target="blank">Commercial Support</a></li>
                <li class="footer-list__item"><a href="https://www.graalvm.org/" target="blank">GraalVM Native Image</a></li>
                <li class="footer-list__item"><a href="https://micronaut.io/" target="_blank">Micronaut<sup>&reg;</sup> Framework</a></li>
                <li class="footer-list__item"><a href="https://www.oracle.com/cloud/multicloud/what-is-multicloud/" target="_blank">Multicloud</a></li>
                <li class="footer-list__item"><a href="https://www.oracle.com/cloud/" target="blank">Oracle Cloud Infrastructure</a></li>
                <li class="footer-list__item"><a href="https://marketplace.visualstudio.com/items?itemName=oracle-labs-graalvm.graal-cloud-native-pack" target="blank">VS Code Tools</a></li>
              </ul>
            </div>
          </div>
          <div class="col-md-6 col-sm-12 aligning_1024">
            <div class="card--footer card--hovered box">
              <div>
                <div class="rubber-footer footer__oci-section">
                  <p class="title-footer quickstart">Build, test, and deploy applications on Oracle Cloud Infrastructure for free</p>
                  <a href="https://www.oracle.com/cloud/free/" target="_blank"
                    class="btn btn-primary">Try Oracle Cloud Infrastructure Free Tier</a>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-12 col-sm-12 col-md-12 col-lg-12">
          <div class="row">
            <div class="col-sm-12">
              <p class="copyright">
                Copyright &copy; 2023-2024, Oracle and/or its affiliates.
                All rights reserved.
                Oracle and Java are registered trademarks of Oracle and/or its affiliates.<br/>
                Micronaut<sup>&reg;</sup> is a registered trademark of Object Computing, Inc.
                Use is for referential purposes and does not imply any endorsement or affiliation with any third-party product.
                Unauthorized use is strictly prohibited. Other names may be trademarks of their respective owners.
              </p>
              <div id="teconsent"></div>
            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</footer>

<script>
  function fadeInAndOut(thz) {
    var elmt = thz.nextElementSibling;//Get the element that is below the button that
    //was just clicked
    if (elmt.clientHeight) {
      elmt.style.height = 0;
    } else {
      var wrapper = elmt.querySelector('ul');
      elmt.style.height = wrapper.clientHeight + "px";
    }
    /*
        elmt.classList.toggle("acordianPanelHidden");//Toggle the class which changes
        //attributes which triggers the transition CSS
        */
  }

  // Check TRUSTe Consent for Functional or Implied Approval
  // The if test verifies if the user has given the consent
  if ( (oracle.truste.api.getGdprConsentDecision().consentDecision) &&
      (oracle.truste.api.getGdprConsentDecision().consentDecision.indexOf(0) != -1 ||
        oracle.truste.api.getGdprConsentDecision().consentDecision.indexOf(2) != -1) ) {

      //The following is a sample of a Maxymiser Tag being written to the DOM
      //If the user did not give consent, then the tag is not included and not invoked in the Browser
      document.write('<script type="text/javascript" src="//service.maxymiser.net/cdn/oracle/js/mmcore.js"><\/script>');
  }

  // Check TRUSTe Consent for Advertising or Implied Approval
  // The if test verifies if the user has given the consent
  if ( (oracle.truste.api.getGdprConsentDecision().consentDecision) &&
      (oracle.truste.api.getGdprConsentDecision().consentDecision.indexOf(0) != -1 ||
        oracle.truste.api.getGdprConsentDecision().consentDecision.indexOf(3) != -1) ) {

      //The following is a sample of a BlueKai Core Tag being written to the DOM
      //If the user did not give consent, then the tag is not included and not invoked in the Browser
      document.write('<script type="text/javascript">' +
      'window.bk_async = function() { ' +
      'BKTAG.doTag(62581, 1); }; ' +
      '(function() { ' +
      'var scripts = document.getElementsByTagName(\'script\')[0]; ' +
      'var s = document.createElement(\'script\'); ' +
      's.async = true; ' +
      's.src = "https://tags.bkrtx.com/js/bk-coretag.js"; ' +
      'scripts.parentNode.insertBefore(s, scripts); ' +
      '}()); ' +
      '<\/script>');
  }
</script>

    </div>
    <div class="overlay"></div>

    <!-- Start SiteCatalyst code -->
    <script language="JavaScript" src="https://www.oracle.com/us/assets/metrics/ora_otn.js"></script>
    <!-- End SiteCatalyst code -->

    <script src='/gdk/resources/lib/slick-slider/slick.min.js'></script>
    <script src='/gdk/resources/js/main.js'></script>
    <script src='/gdk/resources/js/ui.js'></script>
    <script src='/gdk/resources/js/filters.js'></script>
    <script src='/gdk/resources/js/sidebar.js'></script>
    <script src='/gdk/resources/js/labs.js'></script>
    <script src='/gdk/resources/lib/highlight/highlight.min.js'></script>
    <script>hljs.highlightAll();</script>
  </body>
</html>
